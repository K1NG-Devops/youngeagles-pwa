var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,l=(e,t,r)=>new Promise((s,a)=>{var i=e=>{try{l(r.next(e))}catch(t){a(t)}},n=e=>{try{l(r.throw(e))}catch(t){a(t)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,n);l((r=r.apply(e,t)).next())});import{r as o}from"./vendor-react-BHu_3aIX.js";import{u as c,e as d,d as x}from"./vendor-router-BfAStt8k.js";import{l as m,j as g,a0 as h,ab as b,bd as u,A as y,be as p,bf as j,c as w,bg as v,bh as N,bi as f,n as k,bj as C,bk as $,b6 as A,a6 as S,bl as _,m as q,bm as I,_ as D,b as M,aX as F,a9 as L,aa as O,ac as P,E,r as T,C as G}from"./index-BetBoxhn.js";import"./vendor-utils-C_UPlz3V.js";const H=({homework:e,selectedChildId:c,onComplete:d})=>{const{isDark:x}=m(),[D,M]=o.useState(0),[F,L]=o.useState({}),[O,P]=o.useState(0),[E,T]=o.useState(!1),[G,H]=o.useState(!1),[W,Y]=o.useState(!1),[B,Q]=o.useState(!1),[R,J]=o.useState(null),[U,z]=o.useState(null),[K,X]=o.useState(!0),V=(e,t,r)=>{const s=[],a=[C,$,A,w,p],i=["text-red-500","text-blue-500","text-pink-500","text-yellow-500","text-green-500"];for(let n=0;n<5;n++)if("addition"===e){const e=Math.floor(Math.random()*r)+1,t=Math.floor(Math.random()*(r-e+1))+1,l=e+t;s.push({id:n+1,type:"addition",question:`${e} + ${t} = ?`,instruction:"Add the items together",items:[e,t],icon:a[n%a.length],color:i[n%i.length],correctAnswer:l})}else if("subtraction"===e){const e=Math.floor(Math.random()*r)+2,t=Math.floor(Math.random()*(e-1))+1,l=e-t;s.push({id:n+1,type:"subtraction",question:`${e} - ${t} = ?`,instruction:"Take away the items",items:[e,t],icon:a[n%a.length],color:i[n%i.length],correctAnswer:l})}return s},Z=(e,t)=>{const r=[],s=[C,w,A,S,_],a=["text-red-500","text-yellow-500","text-pink-500","text-green-500","text-blue-500"];for(let i=0;i<5;i++){const n=Math.floor(Math.random()*(t-e+1))+e;r.push({id:i+1,type:"counting",question:"Count the items!",instruction:"How many do you see?",items:n,icon:s[i%s.length],color:a[i%a.length],correctAnswer:n})}return r},ee=()=>[{name:"Circle",icon:p,color:"text-blue-500"},{name:"Square",icon:j,color:"text-red-500"},{name:"Star",icon:w,color:"text-yellow-500"}].map((e,t)=>({id:t+1,type:"shape_recognition",question:`Which one is a ${e.name}?`,instruction:`Find the ${e.name}`,targetShape:e.name,icon:e.icon,color:e.color,correctAnswer:e.name})),te=()=>[{name:"Red",icon:A,color:"text-red-500",bgColor:"bg-red-500"},{name:"Blue",icon:p,color:"text-blue-500",bgColor:"bg-blue-500"},{name:"Yellow",icon:q,color:"text-yellow-500",bgColor:"bg-yellow-500"},{name:"Green",icon:S,color:"text-green-500",bgColor:"bg-green-500"}].map((e,t)=>({id:t+1,type:"color_recognition",question:`Which color is ${e.name}?`,instruction:`Find the ${e.name} color`,targetColor:e.name,icon:e.icon,color:e.color,bgColor:e.bgColor,correctAnswer:e.name})),re=()=>["A","B","C","D","E"].map((e,t)=>({id:t+1,type:"letter_recognition",question:`Which letter is ${e}?`,instruction:`Find the letter ${e}`,targetLetter:e,icon:I,color:"text-purple-500",correctAnswer:e})),se=()=>[{name:"Cat",icon:v,sound:"Meow"},{name:"Dog",icon:N,sound:"Woof"},{name:"Fish",icon:f,sound:"Blub"}].map((e,t)=>({id:t+1,type:"animal_recognition",question:`Which animal says "${e.sound}"?`,instruction:"Find the animal that makes this sound",targetAnimal:e.name,icon:e.icon,color:"text-orange-500",correctAnswer:e.name})),ae=()=>[{id:1,type:"counting",question:"Count the stars!",instruction:"How many stars do you see?",items:3,icon:w,color:"text-yellow-500",correctAnswer:3},{id:2,type:"addition",question:"2 + 1 = ?",instruction:"Add the hearts together",items:[2,1],icon:A,color:"text-pink-500",correctAnswer:3},{id:3,type:"shape_recognition",question:"Which one is a Circle?",instruction:"Find the Circle",targetShape:"Circle",icon:p,color:"text-blue-500",correctAnswer:"Circle"}],ie=(()=>{const t=e.title.toLowerCase();return t.includes("basic addition")||t.includes("addition")?V("addition",1,5):t.includes("subtraction")?V("subtraction",1,5):t.includes("counting")||t.includes("numbers")?Z(1,10):t.includes("shapes")||t.includes("geometry")?ee():t.includes("colors")||t.includes("colour")?te():t.includes("letters")||t.includes("alphabet")?re():t.includes("animals")||t.includes("pets")?se():ae()})();o.useEffect(()=>{l(void 0,null,function*(){var t,r;if((null==e?void 0:e.id)&&c)try{const a=null==(r=null==(t=(yield y.homework.getById(e.id)).data.homework)?void 0:t.submissions)?void 0:r.find(e=>e.child_id===parseInt(c));if(a&&(z(a),Q(!0),T(!0),H(!0),P(a.score||0),a.answers_data))try{const e=JSON.parse(a.answers_data);L(e)}catch(s){}}catch(a){}finally{X(!1)}else X(!1)})},[null==e?void 0:e.id,c]);const ne=(e,l)=>{var o,c,d,x;const m=ie.find(t=>t.id===e),g=l===m.correctAnswer;if(L(o=>{return c=((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&n(e,r,t[r]);if(s)for(var r of s(t))i.call(t,r)&&n(e,r,t[r]);return e})({},o),t(c,r({[e]:l}));var c}),g){P(e=>e+1);const e=["Excellent! 🌟","Perfect! 🎉","Well done! 👏","Amazing! ✨","Fantastic! 🚀","Great job! 💫"],t=e[Math.floor(Math.random()*e.length)];k.success(t)}else{const e={counting:`Count again! The correct answer is ${m.correctAnswer} 😊`,addition:`Try adding again! ${null==(o=m.items)?void 0:o[0]} + ${null==(c=m.items)?void 0:c[1]} = ${m.correctAnswer} 🔢`,subtraction:`Think about taking away! ${null==(d=m.items)?void 0:d[0]} - ${null==(x=m.items)?void 0:x[1]} = ${m.correctAnswer} ➖`,shape_recognition:`Look for the ${m.correctAnswer}! 🔺`,color_recognition:`Find the ${m.correctAnswer} color! 🎨`,letter_recognition:`Look for the letter ${m.correctAnswer}! 📝`,animal_recognition:`The ${m.correctAnswer} makes that sound! 🐾`,number_recognition:`Look for the number ${m.correctAnswer}! 🔢`}[m.type]||`Not quite right. The answer is ${m.correctAnswer} 😊`;k.error(e)}setTimeout(()=>{D<ie.length-1?M(e=>e+1):le()},2500)},le=()=>l(void 0,null,function*(){T(!0),H(!0);const e=Math.round(O/ie.length*100),t={score:O,totalQuestions:ie.length,percentage:e,answers:F};yield oe(t),d&&d(t)}),oe=t=>l(void 0,null,function*(){if(!B&&!W)try{Y(!0),J(null);const r=new FormData;if(r.append("child_id",c),r.append("interactive_score",t.percentage),r.append("time_spent",Math.round(2*ie.length)),r.append("answers",JSON.stringify(t.answers)),r.append("comments",`Interactive homework completed with ${t.score}/${t.totalQuestions} correct answers (${t.percentage}%)`),!c)return void k.error("Child ID is missing. Please refresh the page and try again.");const s=yield y.homework.submit(e.id,r);if(!s.data.success)throw new Error(s.data.message||"Failed to submit homework");Q(!0),z({score:t.percentage,submitted_at:(new Date).toISOString(),answers_data:JSON.stringify(t.answers)}),k.success(`🎉 Homework submitted automatically! Score: ${t.percentage}%`)}catch(r){J(r.message||"Failed to submit homework automatically"),Q(!0),k.error("Homework completed but submission failed. Please contact your teacher.")}finally{Y(!1)}});if(G){const e=Math.round(O/ie.length*100);return g.jsx("div",{className:"rounded-xl p-8 border "+(x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx(h,{className:"text-6xl text-yellow-500 mx-auto animate-bounce"}),g.jsx("h2",{className:"text-3xl font-bold "+(x?"text-white":"text-gray-900"),children:"Homework Complete!"}),g.jsxs("div",{className:"text-xl "+(x?"text-gray-300":"text-gray-600"),children:["You scored ",g.jsxs("span",{className:"font-bold text-green-500",children:[O,"/",ie.length]})]}),g.jsxs("div",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:["That's ",e,"%!",e>=80?" Excellent work! 🌟":e>=60?" Good job! Keep practicing! 😊":" Great effort! 💪"]}),g.jsx("div",{className:"rounded-lg p-4 border "+(B&&!R?x?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200":R?x?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200":x?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"),children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx("div",{className:"mr-3 "+(B&&!R?"text-green-500":R?"text-red-500":"text-blue-500"),children:B&&!R?"✅":R?"❌":W?"⏳":"📤"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold "+(B&&!R?x?"text-green-400":"text-green-800":R?x?"text-red-400":"text-red-800":x?"text-blue-400":"text-blue-800"),children:B&&!R?"Homework Submitted Successfully!":R?"Submission Failed":"Submitting homework..."}),g.jsx("p",{className:"text-sm "+(B&&!R?x?"text-green-300":"text-green-700":R?x?"text-red-300":"text-red-700":x?"text-blue-300":"text-blue-700"),children:B&&!R?`Your score of ${e}% has been recorded and sent to your teacher.`:R?"Your homework was completed but could not be submitted. Please contact your teacher.":"Your answers and score are being sent to your teacher..."})]})]})}),g.jsxs("div",{className:"text-sm italic "+(x?"text-gray-400":"text-gray-600"),children:["🔒 Interactive homework can only be completed once and is automatically submitted.",U&&g.jsxs("div",{className:"mt-2 text-xs",children:["Originally submitted: ",new Date(U.submitted_at).toLocaleString()]})]})]})})}if(K)return g.jsxs("div",{className:"rounded-xl p-8 border text-center "+(x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[g.jsx("div",{className:"animate-spin text-4xl mb-4",children:"⏳"}),g.jsx("p",{className:""+(x?"text-gray-300":"text-gray-600"),children:"Checking homework status..."})]});if(B&&G){const e=U?U.score:Math.round(O/ie.length*100);return g.jsx("div",{className:"rounded-xl p-8 border "+(x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"text-6xl",children:"🔒"}),g.jsx("h2",{className:"text-3xl font-bold "+(x?"text-white":"text-gray-900"),children:"Homework Already Completed"}),g.jsxs("div",{className:"text-xl "+(x?"text-gray-300":"text-gray-600"),children:["Your final score: ",g.jsxs("span",{className:"font-bold text-green-500",children:[O,"/",ie.length]})]}),g.jsxs("div",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:["Final Score: ",e,"%!",e>=80?" Excellent work! 🌟":e>=60?" Good job! 😊":" Great effort! 💪"]}),g.jsx("div",{className:"rounded-lg p-4 border "+(x?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"),children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx("div",{className:"text-green-500 mr-3",children:"✅"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold "+(x?"text-green-400":"text-green-800"),children:"Submission Confirmed"}),g.jsx("p",{className:"text-sm "+(x?"text-green-300":"text-green-700"),children:"Your homework has been submitted and recorded."})]})]})}),g.jsxs("div",{className:"text-sm italic "+(x?"text-gray-400":"text-gray-600"),children:["🔒 Interactive homework can only be completed once.",(null==U?void 0:U.submitted_at)&&g.jsxs("div",{className:"mt-2 text-xs",children:["Submitted: ",new Date(U.submitted_at).toLocaleString()]})]})]})})}const ce=ie[D];return g.jsxs("div",{className:"rounded-xl p-6 border "+(x?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("span",{className:"text-sm font-medium "+(x?"text-gray-300":"text-gray-600"),children:["Question ",D+1," of ",ie.length]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(h,{className:"text-yellow-500 text-sm"}),g.jsxs("span",{className:"text-sm font-medium "+(x?"text-gray-300":"text-gray-600"),children:["Score: ",O,"/",ie.length]})]})]}),g.jsx("div",{className:`w-full bg-gray-200 rounded-full h-3 ${x?"bg-gray-700":""} overflow-hidden`,children:g.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500 ease-out relative",style:{width:(D+1)/ie.length*100+"%"},children:g.jsx("div",{className:"absolute inset-0 bg-white opacity-30 animate-pulse"})})}),g.jsx("div",{className:"flex justify-between mt-1",children:ie.map((e,t)=>g.jsx("div",{className:"w-2 h-2 rounded-full transition-all duration-300 "+(t<=D?"bg-green-500 scale-110":"bg-gray-300 scale-75")},t))})]}),g.jsxs("div",{className:"min-h-[400px] flex flex-col justify-center",children:["counting"===ce.type&&(e=>{const t=e.icon,r=Array.from({length:e.items},(e,t)=>t);return g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsx("div",{className:"flex justify-center gap-4 my-8 flex-wrap",children:r.map((r,s)=>g.jsx("div",{className:"transform transition-all duration-300 hover:scale-110",children:g.jsx(t,{className:`text-6xl ${e.color} animate-bounce`,style:{animationDelay:.2*s+"s",filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"}})},s))}),g.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto",children:[1,2,3,4,5].map(t=>g.jsx("button",{onClick:()=>ne(e.id,t),className:"p-4 text-2xl font-bold rounded-xl border-2 transition-all transform hover:scale-105 "+(F[e.id]===t?t===e.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[e.id],children:t},t))})]})})(ce),"addition"===ce.type&&(e=>{const t=e.icon,[r,s]=e.items;return g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsxs("div",{className:"flex justify-center items-center gap-8 my-8",children:[g.jsx("div",{className:"flex gap-2",children:Array.from({length:r},(r,s)=>g.jsx(t,{className:`text-4xl ${e.color}`},`first-${s}`))}),g.jsx("div",{className:"text-4xl font-bold "+(x?"text-white":"text-gray-900"),children:"+"}),g.jsx("div",{className:"flex gap-2",children:Array.from({length:s},(r,s)=>g.jsx(t,{className:`text-4xl ${e.color}`},`second-${s}`))}),g.jsx("div",{className:"text-4xl font-bold "+(x?"text-white":"text-gray-900"),children:"="}),g.jsx("div",{className:"text-4xl font-bold text-purple-500",children:"?"})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto",children:[1,2,3,4,5].map(t=>g.jsx("button",{onClick:()=>ne(e.id,t),className:"p-4 text-2xl font-bold rounded-xl border-2 transition-all transform hover:scale-105 "+(F[e.id]===t?t===e.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[e.id],children:t},t))})]})})(ce),"subtraction"===ce.type&&(e=>{const t=e.icon,[r,s]=e.items;return g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsxs("div",{className:"flex justify-center items-center gap-8 my-8",children:[g.jsx("div",{className:"flex gap-2 flex-wrap max-w-xs",children:Array.from({length:r},(r,a)=>g.jsx(t,{className:`text-4xl ${a<s?"text-gray-400 line-through":e.color}`},`total-${a}`))}),g.jsx("div",{className:"text-4xl font-bold "+(x?"text-white":"text-gray-900"),children:"-"}),g.jsx("div",{className:"flex gap-2",children:Array.from({length:s},(e,r)=>g.jsx(t,{className:"text-4xl text-red-500"},`subtract-${r}`))}),g.jsx("div",{className:"text-4xl font-bold "+(x?"text-white":"text-gray-900"),children:"="}),g.jsx("div",{className:"text-4xl font-bold text-purple-500",children:"?"})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto",children:[0,1,2,3,4,5].map(t=>g.jsx("button",{onClick:()=>ne(e.id,t),className:"p-4 text-2xl font-bold rounded-xl border-2 transition-all transform hover:scale-105 "+(F[e.id]===t?t===e.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[e.id],children:t},t))})]})})(ce),"number_recognition"===ce.type&&(de=ce,g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:de.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:de.instruction}),g.jsx("div",{className:"grid grid-cols-3 gap-6 max-w-lg mx-auto my-8",children:(de.options||[1,2,3,4,5]).map(e=>g.jsx("button",{onClick:()=>ne(de.id,e),className:"p-8 text-4xl font-bold rounded-2xl border-2 transition-all transform hover:scale-105 "+(F[de.id]===e?e===de.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[de.id],children:e},e))})]})),"shape_recognition"===ce.type&&(e=>{const t=[{name:"Circle",icon:p},{name:"Square",icon:j},{name:"Star",icon:w}];return g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsx("div",{className:"grid grid-cols-3 gap-6 max-w-lg mx-auto my-8",children:t.map(t=>{const r=t.icon;return g.jsxs("button",{onClick:()=>ne(e.id,t.name),className:"p-8 rounded-2xl border-2 transition-all transform hover:scale-105 "+(F[e.id]===t.name?t.name===e.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[e.id],children:[g.jsx(r,{className:"text-6xl mx-auto mb-2"}),g.jsx("div",{className:"text-lg font-bold",children:t.name})]},t.name)})})]})})(ce),"color_recognition"===ce.type&&(e=>g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsx("div",{className:"grid grid-cols-2 gap-6 max-w-md mx-auto my-8",children:[{name:"Red",bgColor:"bg-red-500"},{name:"Blue",bgColor:"bg-blue-500"},{name:"Yellow",bgColor:"bg-yellow-500"},{name:"Green",bgColor:"bg-green-500"}].map(t=>g.jsxs("button",{onClick:()=>ne(e.id,t.name),className:"p-8 rounded-2xl border-4 transition-all transform hover:scale-105 "+(F[e.id]===t.name?t.name===e.correctAnswer?"border-green-600 ring-4 ring-green-300":"border-red-600 ring-4 ring-red-300":"border-gray-300 hover:border-gray-400"),disabled:void 0!==F[e.id],children:[g.jsx("div",{className:`w-20 h-20 ${t.bgColor} rounded-full mx-auto mb-3`}),g.jsx("div",{className:"text-lg font-bold "+(x?"text-white":"text-gray-900"),children:t.name})]},t.name))})]}))(ce),"letter_recognition"===ce.type&&(e=>{const t=["A","B","C","D","E"].sort(()=>Math.random()-.5).slice(0,4);return t.includes(e.targetLetter)||(t[Math.floor(Math.random()*t.length)]=e.targetLetter),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsx("div",{className:"grid grid-cols-2 gap-6 max-w-md mx-auto my-8",children:t.map(t=>g.jsx("button",{onClick:()=>ne(e.id,t),className:"p-8 text-6xl font-bold rounded-2xl border-2 transition-all transform hover:scale-105 "+(F[e.id]===t?t===e.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[e.id],children:t},t))})]})})(ce),"animal_recognition"===ce.type&&(e=>{const t=[{name:"Cat",icon:v},{name:"Dog",icon:N},{name:"Fish",icon:f}];return g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:e.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:e.instruction}),g.jsx("div",{className:"grid grid-cols-3 gap-6 max-w-lg mx-auto my-8",children:t.map(t=>{const r=t.icon;return g.jsxs("button",{onClick:()=>ne(e.id,t.name),className:"p-8 rounded-2xl border-2 transition-all transform hover:scale-105 "+(F[e.id]===t.name?t.name===e.correctAnswer?"bg-green-500 text-white border-green-600":"bg-red-500 text-white border-red-600":x?"bg-gray-800 text-white border-gray-600 hover:bg-gray-700":"bg-white text-gray-900 border-gray-300 hover:bg-gray-50"),disabled:void 0!==F[e.id],children:[g.jsx(r,{className:"text-6xl mx-auto mb-2 text-orange-500"}),g.jsx("div",{className:"text-lg font-bold",children:t.name})]},t.name)})})]})})(ce),"general"===ce.type&&g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx(b,{className:"text-6xl text-green-500 mx-auto animate-pulse"}),g.jsx("h3",{className:"text-2xl font-bold "+(x?"text-white":"text-gray-900"),children:ce.question}),g.jsx("p",{className:"text-lg "+(x?"text-gray-300":"text-gray-600"),children:ce.instruction}),g.jsxs("button",{onClick:()=>ne(ce.id,1),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors transform hover:scale-105",children:[g.jsx(u,{className:"w-4 h-4 mr-2"}),"Continue"]})]})]})]});var de},W=({homework:e,selectedChildId:t})=>{var r;const{isDark:s}=m(),a=c(),[i,n]=o.useState("instructions"),[l,d]=o.useState(!1),[x,h]=o.useState(null),u=()=>"interactive"===e.content_type;return g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} transition-colors duration-200`,children:g.jsxs("div",{className:"px-2 py-4 space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("button",{onClick:()=>a(-1),className:"inline-flex items-center px-4 py-2 rounded-lg transition-colors "+(s?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[g.jsx(D,{className:"w-4 h-4 mr-2"}),"Back to Homework"]})}),g.jsxs("div",{className:"rounded-xl shadow-lg overflow-hidden border "+(s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[g.jsxs("div",{className:"px-6 py-5 border-b "+(s?"border-gray-700":"border-gray-200"),children:[g.jsx("h1",{className:`text-2xl sm:text-3xl font-bold ${s?"text-white":"text-gray-900"} mb-3`,children:e.title}),g.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.class_name&&g.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+(s?"bg-blue-900/20 text-blue-400":"bg-blue-100 text-blue-800"),children:[g.jsx(M,{className:"w-4 h-4 mr-2"}),e.class_name]}),e.subject&&g.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+(s?"bg-purple-900/20 text-purple-400":"bg-purple-100 text-purple-800"),children:[g.jsx(F,{className:"w-4 h-4 mr-2"}),e.subject]}),e.difficulty&&g.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+("easy"===e.difficulty?s?"bg-green-900/20 text-green-400":"bg-green-100 text-green-800":"medium"===e.difficulty?s?"bg-yellow-900/20 text-yellow-400":"bg-yellow-100 text-yellow-800":s?"bg-red-900/20 text-red-400":"bg-red-100 text-red-800"),children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.teacher_name&&g.jsxs("div",{className:"flex items-center",children:[g.jsx(L,{className:"w-4 h-4 mr-2 "+(s?"text-gray-400":"text-gray-600")}),g.jsxs("span",{className:s?"text-gray-300":"text-gray-600",children:["Teacher: ",e.teacher_name]})]}),e.due_date&&g.jsxs("div",{className:"flex items-center",children:[g.jsx(O,{className:"w-4 h-4 mr-2 text-orange-600"}),g.jsxs("span",{className:s?"text-gray-300":"text-gray-600",children:["Due: ",(e=>{if(!e)return"Not specified";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return e}})(e.due_date)]})]})]})]}),g.jsx("div",{className:"px-6 py-4 border-b "+(s?"border-gray-700":"border-gray-200"),children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("button",{onClick:()=>n("instructions"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("instructions"===i?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[g.jsx(F,{className:"w-4 h-4 mr-2 inline"}),"Instructions"]}),u()&&g.jsxs("button",{onClick:()=>n("interactive"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("interactive"===i?"bg-green-600 text-white":s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[g.jsx(b,{className:"w-4 h-4 mr-2 inline"}),"Interactive Activities",l&&g.jsx("span",{className:"ml-1",children:"✅"})]}),!u()&&g.jsxs("button",{onClick:()=>n("submit"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("submit"===i?"bg-purple-600 text-white":s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[g.jsx(P,{className:"w-4 h-4 mr-2 inline"}),"Submit Work"]})]})})]}),"instructions"===i&&g.jsxs("div",{className:"p-4",children:[g.jsx("h2",{className:`text-xl font-semibold ${s?"text-white":"text-gray-900"} mb-4`,children:"📋 Instructions"}),e.description&&g.jsx("div",{className:"mb-4",children:g.jsx("p",{className:(s?"text-gray-300":"text-gray-700")+" whitespace-pre-wrap leading-relaxed",children:e.description})}),e.instructions&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} mb-2`,children:"Detailed Instructions:"}),g.jsx("p",{className:(s?"text-gray-300":"text-gray-700")+" whitespace-pre-wrap leading-relaxed",children:e.instructions})]}),!e.instructions&&!e.objectives&&!e.activities&&!e.materials&&!e.parent_guidance&&g.jsxs("div",{className:"rounded-lg p-6 border text-center "+(s?"bg-yellow-900/20 border-yellow-800":"bg-yellow-50 border-yellow-200"),children:[g.jsx("div",{className:"text-yellow-500 text-4xl mb-3",children:"⚠️"}),g.jsx("h3",{className:`font-semibold ${s?"text-yellow-400":"text-yellow-800"} mb-2`,children:"Limited Information Available"}),g.jsx("p",{className:(s?"text-yellow-300":"text-yellow-700")+" mb-4",children:"This homework assignment doesn't have detailed instructions yet. Please check with your teacher for more information."}),g.jsx("p",{className:"text-sm "+(s?"text-yellow-400":"text-yellow-600"),children:"Basic assignment description is shown above."})]}),e.objectives&&e.objectives.length>0&&g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} mb-3`,children:"🎯 Learning Objectives"}),g.jsx("ul",{className:"space-y-2 "+(s?"text-gray-300":"text-gray-700"),children:e.objectives.map((e,t)=>g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"text-blue-500 mr-2 mt-1",children:"•"}),g.jsx("span",{children:e})]},t))})]}),e.activities&&e.activities.length>0&&g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} mb-3`,children:"📝 Activities to Complete"}),g.jsx("ul",{className:"space-y-2 "+(s?"text-gray-300":"text-gray-700"),children:e.activities.map((e,t)=>g.jsxs("li",{className:"flex items-start",children:[g.jsxs("span",{className:"text-green-500 mr-2 mt-1",children:[t+1,"."]}),g.jsx("span",{children:e})]},t))})]}),e.materials&&e.materials.length>0&&g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} mb-3`,children:"📦 Materials Needed"}),g.jsx("ul",{className:"space-y-2 "+(s?"text-gray-300":"text-gray-700"),children:e.materials.map((e,t)=>g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"text-orange-500 mr-2 mt-1",children:"•"}),g.jsx("span",{children:e})]},t))})]}),e.parent_guidance&&g.jsxs("div",{className:"rounded-lg p-4 mt-6 border-l-4 border-purple-500 "+(s?"bg-purple-900/20 border-purple-800":"bg-purple-50 border-purple-200"),children:[g.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} mb-3`,children:"👨‍👩‍👧‍👦 Parent Guidance"}),g.jsx("p",{className:(s?"text-purple-300":"text-purple-700")+" leading-relaxed",children:e.parent_guidance})]}),g.jsx("div",{className:"mt-6",children:g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.duration&&g.jsx("div",{className:"p-3 rounded-lg border "+(s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"text-blue-500 mr-2",children:"⏱️"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:"Estimated Time"}),g.jsxs("p",{className:"font-semibold "+(s?"text-white":"text-gray-900"),children:[e.duration," minutes"]})]})]})}),e.difficulty&&g.jsx("div",{className:"p-3 rounded-lg border "+(s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"text-yellow-500 mr-2",children:"📊"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:"Difficulty Level"}),g.jsx("p",{className:"font-semibold capitalize "+(s?"text-white":"text-gray-900"),children:e.difficulty})]})]})})]})}),e.caps_alignment&&g.jsx("div",{className:"mt-6",children:g.jsx("div",{className:"p-4 rounded-lg border "+(s?"bg-indigo-900/20 border-indigo-800":"bg-indigo-50 border-indigo-200"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"text-indigo-500 mr-2",children:"🎓"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm "+(s?"text-indigo-400":"text-indigo-600"),children:"CAPS Curriculum Alignment"}),g.jsx("p",{className:"font-semibold "+(s?"text-indigo-300":"text-indigo-800"),children:e.caps_alignment})]})]})})}),(null==(r=e.resources)?void 0:r.file_url)&&g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} mb-3`,children:"📎 Resources"}),g.jsxs("a",{href:e.resources.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg transition-colors "+(s?"bg-purple-900/20 text-purple-400 hover:bg-purple-800/30":"bg-purple-50 text-purple-700 hover:bg-purple-100"),children:[g.jsx(E,{className:"w-4 h-4 mr-2"}),"Download Assignment File"]})]})]}),"interactive"===i&&u()&&g.jsxs("div",{children:[g.jsxs("div",{className:"rounded-xl shadow-lg p-6 border mb-4 "+(s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[g.jsx("h2",{className:`text-xl font-semibold ${s?"text-white":"text-gray-900"} mb-2`,children:"🎮 Interactive Learning Activities"}),g.jsx("p",{className:(s?"text-gray-300":"text-gray-600")+" mb-4",children:"Complete these fun activities to practice what you've learned!"}),x&&g.jsx("div",{className:"rounded-lg p-4 mb-4 border "+(s?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"text-green-500 mr-3",children:"🔒"}),g.jsxs("div",{children:[g.jsxs("p",{className:"font-semibold "+(s?"text-green-400":"text-green-800"),children:["Final Score: ",x.score,"/",x.totalQuestions," (",x.percentage,"%)"]}),g.jsx("p",{className:"text-sm "+(s?"text-green-300":"text-green-700"),children:"Homework completed and submitted! Interactive activities can only be done once."})]})]})})]}),g.jsx(H,{homework:e,selectedChildId:t,onComplete:e=>{d(!0),h(e),k.success(`Interactive activities completed! Score: ${e.score}/${e.totalQuestions}`)}})]}),"submit"===i&&g.jsxs("div",{className:"rounded-xl shadow-lg p-6 border "+(s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[g.jsx("h2",{className:`text-xl font-semibold ${s?"text-white":"text-gray-900"} mb-4`,children:"📤 Submit Your Work"}),g.jsx("p",{className:(s?"text-gray-300":"text-gray-600")+" mb-6",children:"Ready to submit your homework? You can upload files, photos of your work, or documents."}),l&&g.jsx("div",{className:"rounded-lg p-4 mb-6 border "+(s?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"text-blue-500 mr-3",children:"🎮"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold "+(s?"text-blue-400":"text-blue-800"),children:"Interactive Activities Completed!"}),g.jsxs("p",{className:"text-sm "+(s?"text-blue-300":"text-blue-700"),children:["Score: ",null==x?void 0:x.score,"/",null==x?void 0:x.totalQuestions," (",null==x?void 0:x.percentage,"%)"]})]})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("button",{onClick:()=>{a(`/submit-work?homework_id=${e.id}&child_id=${t}`)},className:"w-full inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[g.jsx(P,{className:"w-5 h-5 mr-2"}),"Go to Submit Work Page"]}),g.jsx("p",{className:"text-sm text-center "+(s?"text-gray-400":"text-gray-600"),children:"Upload photos, documents, or files showing your completed work"})]})]})]})})},Y=()=>{const{id:e}=d(),[t]=x(),r=c(),{isDark:s}=m(),[a,i]=o.useState(null),[n,h]=o.useState(!0),[b,u]=o.useState(null),p=t.get("child_id");return o.useEffect(()=>{l(void 0,null,function*(){var t,r;if(!e)return u("No homework ID provided"),void h(!1);try{h(!0),u(null);const t=yield y.get(`/api/homework/${e}`);i(t.data.homework)}catch(s){u((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.message)||s.message||"Failed to load homework details"),k.error("Failed to load homework details")}finally{h(!1)}})},[e]),n?g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:g.jsxs("div",{className:"text-center",children:[g.jsx(T,{className:"animate-spin text-4xl text-blue-500 mx-auto mb-4"}),g.jsx("p",{className:""+(s?"text-gray-300":"text-gray-600"),children:"Loading homework details..."})]})}):b?g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:g.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[g.jsx(G,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),g.jsx("h2",{className:"text-xl font-bold mb-2 "+(s?"text-white":"text-gray-900"),children:"Error Loading Homework"}),g.jsx("p",{className:(s?"text-gray-300":"text-gray-600")+" mb-4",children:b}),g.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[g.jsx(D,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})}):a?g.jsx(W,{homework:a,selectedChildId:p}):g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:g.jsx("div",{className:"text-center",children:g.jsx("p",{className:""+(s?"text-gray-300":"text-gray-600"),children:"No homework details available"})})})};export{Y as default};
