var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,n=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&i(e,s,t[s]);if(a)for(var s of a(t))r.call(t,s)&&i(e,s,t[s]);return e},d=(e,a)=>t(e,s(a)),o=(e,t,s)=>i(e,"symbol"!=typeof t?t+"":t,s),c=(e,t,s)=>new Promise((a,l)=>{var r=e=>{try{n(s.next(e))}catch(t){l(t)}},i=e=>{try{n(s.throw(e))}catch(t){l(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,i);n((s=s.apply(e,t)).next())});import{a as x,r as m}from"./vendor-react-BHu_3aIX.js";import{j as g,C as h,V as u,x as b,l as y,r as p,u as j,W as f,X as v,L as N,A as w,Y as S,Z as C,D as k,c as E,_ as $,$ as A,a0 as M,a1 as z,a2 as T,a3 as F,a4 as O,a5 as P,a6 as I,I as L,H as D,n as G}from"./index-BetBoxhn.js";import{P as R}from"./PageWrapper-BEwMImJq.js";import{u as B}from"./vendor-router-BfAStt8k.js";import"./vendor-utils-C_UPlz3V.js";class H extends x.Component{constructor(e){super(e),o(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),o(this,"handleGoHome",()=>{window.location.href="/"}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?g.jsx(J,{error:this.state.error,errorInfo:this.state.errorInfo,onRetry:this.handleRetry,onGoHome:this.handleGoHome}):this.props.children}}const J=({error:e,errorInfo:t,onRetry:s,onGoHome:a})=>{const l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 "+(l?"bg-gray-900":"bg-gray-50"),children:g.jsxs("div",{className:"max-w-md w-full rounded-lg shadow-lg p-6 text-center "+(l?"bg-gray-800 text-white":"bg-white text-gray-900"),children:[g.jsxs("div",{className:"mb-4",children:[g.jsx(h,{className:"mx-auto text-4xl text-red-500 mb-2"}),g.jsx("h2",{className:"text-xl font-bold mb-2",children:"Oops! Something went wrong"}),g.jsx("p",{className:"text-sm mb-4 "+(l?"text-gray-300":"text-gray-600"),children:"We encountered an unexpected error. Don't worry, your data is safe."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:s,className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[g.jsx(u,{className:"text-sm"}),g.jsx("span",{children:"Try Again"})]}),g.jsxs("button",{onClick:a,className:"w-full border px-4 py-2 rounded-lg transition-colors flex items-center justify-center space-x-2 "+(l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[g.jsx(b,{className:"text-sm"}),g.jsx("span",{children:"Go Home"})]})]}),!1]})})},q=({message:e="Loading...",size:t="md"})=>{const{isDark:s}=y();return g.jsx("div",{className:"flex items-center justify-center p-8 "+(s?"text-gray-300":"text-gray-600"),children:g.jsxs("div",{className:"text-center",children:[g.jsx(p,{className:`animate-spin mx-auto mb-2 ${{sm:"text-sm",md:"text-lg",lg:"text-xl"}[t]}`}),g.jsx("p",{className:"text-sm",children:e})]})})},U=({type:e="default"})=>{const{isDark:t}=y(),s=`animate-pulse ${t?"bg-gray-700":"bg-gray-300"} rounded`;return"page"===e?g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsx("div",{className:`h-8 w-1/3 ${s}`}),g.jsx("div",{className:`h-4 w-full ${s}`}),g.jsx("div",{className:`h-4 w-3/4 ${s}`}),g.jsx("div",{className:`h-4 w-1/2 ${s}`}),g.jsx("div",{className:`h-32 w-full ${s}`})]}):"card"===e?g.jsxs("div",{className:"p-4 space-y-3",children:[g.jsx("div",{className:`h-6 w-2/3 ${s}`}),g.jsx("div",{className:`h-4 w-full ${s}`}),g.jsx("div",{className:`h-4 w-4/5 ${s}`})]}):g.jsx(q,{})},W=({children:e,fallback:t=g.jsx(q,{}),skeleton:s=!1,skeletonType:a="default",minLoadTime:l=300})=>{const[r,i]=x.useState(!1);x.useEffect(()=>{const e=setTimeout(()=>{i(!0)},l);return()=>clearTimeout(e)},[l]);const n=s?g.jsx(U,{type:a}):t;return g.jsx(H,{children:g.jsx(m.Suspense,{fallback:n,children:r?e:n})})},Y=({onComplete:e,difficulty:t="easy",onLevelChange:s})=>{const{isDark:a}=y(),{user:l}=j(),r=(()=>{try{const e=localStorage.getItem("mazeGameState");if(e){const a=JSON.parse(e);if(a.difficulty===t)return s&&s(a.difficulty),a}}catch(e){}return null})(),[i,o]=m.useState((null==r?void 0:r.commands)||[]),[h,u]=m.useState((null==r?void 0:r.robotPosition)||{x:0,y:0}),[b,p]=m.useState(!1),[S,C]=m.useState((null==r?void 0:r.gameStatus)||"idle"),[k,E]=m.useState((null==r?void 0:r.score)||0),[$,A]=m.useState((null==r?void 0:r.attempts)||0),[M,z]=m.useState((null==r?void 0:r.timeElapsed)||0),[T,F]=m.useState((null==r?void 0:r.isTimerRunning)||!1),[O,P]=m.useState(()=>{try{const e=localStorage.getItem("mazeGameProgress");return e?JSON.parse(e):[]}catch(e){return[]}}),[I,L]=m.useState(!1),[D,G]=m.useState(!1),[R,B]=m.useState(!1),[H,J]=m.useState(null),[q,U]=m.useState(!1),[W,Y]=m.useState(null),[Q,V]=m.useState(null),[_,Z]=m.useState(null);m.useEffect(()=>{c(void 0,null,function*(){try{const e=yield w.get("/api/activities/attempt-status/maze-robot");Z(e.data.status)}catch(e){}})},[]);const X={easy:{grid:[[0,0,0,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,2]],size:5,maxCommands:8,name:"Beginner"},medium:{grid:[[0,0,1,0,0,0],[0,1,1,0,1,0],[0,0,0,0,1,0],[1,1,0,1,1,0],[0,0,0,0,0,0],[0,1,1,1,0,2]],size:6,maxCommands:12,name:"Intermediate",description:"More walls and tricky paths"},hard:{grid:[[0,0,1,0,0,0,0],[0,1,1,0,1,1,0],[0,0,0,0,1,0,0],[1,1,0,1,1,0,1],[0,0,0,0,0,0,1],[0,1,1,1,0,1,1],[0,0,0,0,0,0,2]],size:7,maxCommands:15,name:"Advanced",description:"Complex maze with multiple dead ends"},expert:{grid:[[0,0,1,0,0,1,0,0],[0,1,1,0,1,1,0,1],[0,0,0,0,1,0,0,0],[1,1,0,1,1,0,1,0],[0,0,0,0,0,0,1,0],[0,1,1,1,0,1,1,0],[0,0,0,0,0,0,0,0],[1,1,0,1,1,0,1,2]],size:8,maxCommands:18,name:"Expert",description:"Large maze with intricate patterns"},master:{grid:[[0,0,1,0,0,1,0,0,0],[0,1,1,0,1,1,0,1,0],[0,0,0,0,1,0,0,1,0],[1,1,0,1,1,0,1,0,0],[0,0,0,0,0,0,1,0,1],[0,1,1,1,0,1,1,0,1],[0,0,0,0,0,0,0,0,0],[1,1,0,1,1,0,1,1,0],[0,0,0,0,0,0,0,0,2]],size:9,maxCommands:22,name:"Master",description:"Ultimate challenge - largest and most complex maze"}},K=["easy","medium","hard","expert","master"],ee=e=>{if("easy"===e)return!0;const t=K.indexOf(e);if(-1===t)return!1;const s=K[t-1];return O.includes(s)},te=K.includes(t)&&ee(t)?t:"easy",se=X[te],ae=e=>{const t=[...O];t.includes(e)||(t.push(e),P(t),localStorage.setItem("mazeGameProgress",JSON.stringify(t)))};x.useEffect(()=>{},[]);m.useEffect(()=>{b||(()=>{if("completed"!==S)try{const e={commands:i,robotPosition:h,gameStatus:S,score:k,attempts:$,timeElapsed:M,isTimerRunning:T,difficulty:t};localStorage.setItem("mazeGameState",JSON.stringify(e))}catch(e){}else localStorage.removeItem("mazeGameState")})()},[i,h,S,k,$,M,T,t,b]),m.useEffect(()=>{let e;return T&&(e=setInterval(()=>{z(e=>{const t=e+1,s=JSON.parse(localStorage.getItem("mazeGameState")||"{}");return localStorage.setItem("mazeGameState",JSON.stringify(d(n({},s),{timeElapsed:t}))),t})},1e3)),()=>clearInterval(e)},[T]),m.useEffect(()=>{te!==t&&localStorage.removeItem("mazeGameState")},[te,t]),m.useEffect(()=>{te!==t&&s&&s(te)},[te,t,s]),m.useEffect(()=>()=>{o([]),u({x:0,y:0}),C("idle"),p(!1),z(0),F(!1),L(!1),G(!1),B(!1),E(0),A(0),Z(null)},[]),m.useEffect(()=>{c(void 0,null,function*(){try{const e=yield w.get("/api/activities/history"),t=(e.data.submissions||[]).find(e=>"maze"===e.activity_type);t&&V(t)}catch(e){}})},[]);const le=e=>{i.length<se.maxCommands&&"idle"===S&&(o([...i,e]),T||F(!0))},re=()=>{o([]),u({x:0,y:0}),C("idle"),p(!1),z(0),F(!1),localStorage.removeItem("mazeGameState")},ie=()=>{localStorage.removeItem("mazeGameState"),localStorage.removeItem("mazeGameProgress"),o([]),u({x:0,y:0}),C("idle"),p(!1),z(0),F(!1),E(0),A(0),P([]),Z(null),s&&s("easy")};return g.jsx("div",{className:`min-h-screen mt-18 ${a?"bg-gray-900":"bg-gray-50"} py-2`,children:g.jsxs("div",{id:"maze-container",className:`w-full max-w-4xl mx-auto px-3 rounded-xl ${a?"bg-gray-800":"bg-white"} shadow-lg relative transition-all duration-500 ease-in-out transform ${"completed"===S?"scale-105":""}`,children:[g.jsxs("div",{className:"text-center mb-4 pt-4",children:[g.jsxs("div",{className:"flex justify-between items-center px-4",children:[g.jsx("h2",{className:"text-xl font-bold "+(a?"text-white":"text-gray-800"),children:"ğŸ¤– Robot Maze Navigator"}),g.jsxs("div",{className:"flex flex-col items-end",children:[(()=>{if(!_)return null;const e=_.canSubmit?a?"text-green-300":"text-green-600":a?"text-red-300":"text-red-600";return g.jsx("div",{className:`text-sm ${e}`,children:_.hasFinalSubmission?"Final submission completed. Waiting for admin reset.":`Attempts remaining: ${_.attemptsRemaining} of 2`})})(),q?g.jsx("div",{className:"text-sm "+(a?"text-blue-300":"text-blue-600"),children:"Submitting activity..."}):W?g.jsx("div",{className:"text-sm "+(a?"text-red-300":"text-red-600"),children:W}):Q?g.jsxs("div",{className:"text-sm "+(a?"text-gray-300":"text-gray-600"),children:["Last submitted: ",new Date(Q.submitted_at).toLocaleString(),Q.completed&&" (Completed)"]}):null]}),r?g.jsx("button",{onClick:ie,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(a?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:"Reset All Progress"}):null]}),g.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg mb-2 "+("easy"===te?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"medium"===te?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"hard"===te?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300":"expert"===te?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"),children:[g.jsxs("span",{className:"font-semibold",children:["Level ",Object.keys(X).indexOf(te)+1,": ",se.name]}),"easy"===te&&g.jsx("span",{className:"ml-2",children:"â­"}),"medium"===te&&g.jsx("span",{className:"ml-2",children:"â­â­"}),"hard"===te&&g.jsx("span",{className:"ml-2",children:"â­â­â­"}),"expert"===te&&g.jsx("span",{className:"ml-2",children:"â­â­â­â­"}),"master"===te&&g.jsx("span",{className:"ml-2",children:"â­â­â­â­â­"})]}),te!==t&&g.jsxs("div",{className:"text-xs px-3 py-1 rounded-full mb-2 "+(a?"bg-yellow-900 text-yellow-300":"bg-yellow-100 text-yellow-800"),children:["âš ï¸ Level ",Object.keys(X).indexOf(t)+1," is locked. Complete previous levels to unlock it!"]}),g.jsx("p",{className:(a?"text-gray-300":"text-gray-600")+" mb-2",children:se.description}),g.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[g.jsx("span",{className:"text-xs "+(a?"text-gray-400":"text-gray-500"),children:"Progress:"}),g.jsx("div",{className:"flex space-x-1",children:K.map((e,s)=>g.jsx("div",{className:"w-3 h-3 rounded-full "+(O.includes(e)?"bg-green-500":e===te?"bg-blue-500":ee(e)?a?"bg-gray-600":"bg-gray-300":a?"bg-gray-800":"bg-gray-200"),title:`Level ${s+1}: ${X[e].name} ${O.includes(e)?"(Completed)":e===t?"(Current)":ee(e)?"(Available)":"(Locked)"}`},e))}),g.jsxs("span",{className:"text-xs "+(a?"text-gray-400":"text-gray-500"),children:[O.length,"/",K.length]})]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[g.jsx("div",{className:"flex-1 flex justify-center",children:g.jsx("div",{className:"maze-grid",style:{gridTemplateColumns:`repeat(${se.size}, 1fr)`},children:se.grid.map((e,t)=>e.map((e,s)=>{const a=h.x===s&&h.y===t;let l="maze-cell ";return l+=a?"maze-cell-robot":1===e?"maze-cell-wall":2===e?"maze-cell-goal":"maze-cell-empty",g.jsxs("div",{className:l,children:[a&&"ğŸ¤–",!a&&2===e&&"ğŸ¯"]},`${s}-${t}`)}))})}),g.jsxs("div",{className:"flex-1 max-w-md mx-auto lg:mx-0",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsxs("button",{onClick:()=>c(void 0,null,function*(){if(0===i.length)return;if(!(null==_?void 0:_.canSubmit))return void C("locked");p(!0),C("running"),A(e=>e+1);let t={x:0,y:0};for(let a=0;a<i.length;a++){const l=i[a],r=n({},t);switch(l){case"up":r.y=Math.max(0,t.y-1);break;case"down":r.y=Math.min(se.size-1,t.y+1);break;case"left":r.x=Math.max(0,t.x-1);break;case"right":r.x=Math.min(se.size-1,t.x+1)}if(1===se.grid[r.y][r.x])return C("failed"),p(!1),void F(!1);if(t=r,u(r),yield new Promise(e=>setTimeout(e,300)),2===se.grid[r.y][r.x]){const t={easy:1,medium:1.5,hard:2,expert:2.5,master:3}[te],a=100*t,l=Math.max(0,(120-M)*t),r=Math.max(0,10*(se.maxCommands-i.length)*t),n=Math.max(0,20*(4-$)*t),d=1===$&&i.length<=.7*se.maxCommands?50*t:0,o=Math.round(a+l+r+n+d);E(o),C("completed"),p(!1),F(!1),ae(te),e&&e({difficulty:te,score:o,timeElapsed:M,attempts:$,commandsUsed:i.length});const c=K.indexOf(te),x=K[c+1];return L(!0),void("master"===te?setTimeout(()=>{B(!0)},2e3):x&&s&&(J(x),setTimeout(()=>{G(!0)},1500)))}}C("failed"),p(!1),F(!1)}),disabled:b||0===i.length||"running"===S||!(null==_?void 0:_.canSubmit),className:"flex items-center px-8 py-4 rounded-xl hover:bg-opacity-90 disabled:bg-opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 font-semibold text-lg shadow-lg "+((null==_?void 0:_.canSubmit)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-400 text-white"),style:{minHeight:"56px"},children:[g.jsx(f,{className:"mr-3 text-lg"}),b?"Running...":(null==_?void 0:_.canSubmit)?"Execute Commands":"Submission Locked"]})}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-base font-semibold mb-2 text-center "+(a?"text-white":"text-gray-800"),children:"Add Commands"}),g.jsx("div",{className:"flex justify-center",children:g.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full max-w-[200px] sm:max-w-[240px]",children:[g.jsx("div",{}),g.jsx("button",{onClick:()=>le("up"),disabled:b||i.length>=se.maxCommands||"idle"!==S,className:"w-16 h-16 text-2xl bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex items-center justify-center shadow-lg",children:"â†‘"}),g.jsx("div",{}),g.jsx("button",{onClick:()=>le("left"),disabled:b||i.length>=se.maxCommands||"idle"!==S,className:"w-16 h-16 text-2xl bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex items-center justify-center shadow-lg",children:"â†"}),g.jsx("div",{}),g.jsx("button",{onClick:()=>le("right"),disabled:b||i.length>=se.maxCommands||"idle"!==S,className:"w-16 h-16 text-2xl bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex items-center justify-center shadow-lg",children:"â†’"}),g.jsx("div",{}),g.jsx("button",{onClick:()=>le("down"),disabled:b||i.length>=se.maxCommands||"idle"!==S,className:"w-16 h-16 text-2xl bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex items-center justify-center shadow-lg",children:"â†“"}),g.jsx("div",{})]})})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-base font-semibold mb-2 text-center "+(a?"text-white":"text-gray-800"),children:"Command Sequence"}),g.jsx("div",{className:"min-h-[60px] p-4 rounded-lg border "+(a?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:0===i.length?g.jsx("p",{className:"text-center "+(a?"text-gray-400":"text-gray-500"),children:"No commands yet. Add some directions above!"}):g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.map((e,t)=>g.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white rounded-full text-sm font-medium",children:e},t))})})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 justify-center mb-4",children:[g.jsxs("button",{onClick:()=>{i.length>0&&"idle"===S&&o(i.slice(0,-1))},disabled:b||0===i.length||"idle"!==S,className:"flex items-center px-4 py-3 bg-yellow-600 text-white rounded-xl hover:bg-yellow-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg font-medium",style:{minHeight:"44px"},children:[g.jsx(v,{className:"mr-2"}),"Undo"]}),g.jsx("button",{onClick:()=>{"idle"===S&&(o([]),u({x:0,y:0}))},disabled:b||"running"===S,className:"flex items-center px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg font-medium",style:{minHeight:"44px"},children:"Clear All"}),g.jsx("button",{onClick:re,className:"flex items-center px-4 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg font-medium",style:{minHeight:"44px"},children:"Reset Game"}),O.length>0&&!1]})]})]}),I&&g.jsxs("div",{className:"absolute inset-0 pointer-events-none z-40 animate-confetti",children:[[...Array("master"===te?100:50)].map((e,t)=>g.jsx("div",{className:"absolute w-2 h-3 rounded-full",style:{backgroundColor:"master"===te?["#FFD700","#FF69B4","#00FF00","#4169E1","#FF4500","#9400D3","#FF1493"][t%7]:["#FFD700","#FF69B4","#00FF00","#4169E1"][t%4],left:100*Math.random()+"%",top:100*Math.random()+"%",animation:`confetti-fall ${1+3*Math.random()}s linear forwards`,animationDelay:2*Math.random()+"s"}},t)),"master"===te&&[...Array(20).fill(0).map((e,t)=>g.jsx("div",{className:"absolute text-2xl animate-pulse",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animation:`star-twinkle ${2+2*Math.random()}s ease-in-out infinite`,animationDelay:2*Math.random()+"s"},children:"â­"},`star-${t}`))]]}),D&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-hidden",children:g.jsxs("div",{className:(a?"bg-gray-800 text-white":"bg-white text-gray-800")+" p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 transform transition-all duration-300 scale-100",children:[g.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"ğŸ‰ Level Complete!"}),g.jsx("p",{className:"text-sm mb-4 text-center",children:"Ready to take on the next challenge?"}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("button",{onClick:()=>{if(L(!1),G(!1),re(),H&&s){const e=document.getElementById("maze-container");e?(e.className+=" -translate-x-full opacity-0",setTimeout(()=>{s(H),e.className=e.className.replace(" -translate-x-full opacity-0"," translate-x-0 opacity-100")},300)):s(H)}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-sm",children:"Next Level â†’"}),g.jsx("button",{onClick:()=>{L(!1),G(!1)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium text-sm",children:"Stay Here"})]})]})}),R&&g.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 bg-opacity-95 flex items-center justify-center z-50 overflow-hidden",children:g.jsxs("div",{className:(a?"bg-gray-800 text-white":"bg-white text-gray-800")+" p-6 rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-100 border-4 border-yellow-400 relative overflow-hidden max-h-[90vh] overflow-y-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-200 via-pink-200 to-purple-200 opacity-10 animate-pulse"}),g.jsxs("div",{className:"relative z-10 text-center",children:[g.jsx("div",{className:"text-4xl mb-3 animate-bounce",children:"ğŸ†"}),g.jsx("h2",{className:"text-xl font-bold mb-2 bg-gradient-to-r from-yellow-400 via-red-500 to-purple-600 bg-clip-text text-transparent",children:"GAME COMPLETE!"}),g.jsxs("div",{className:"text-sm mb-3 flex justify-center items-center gap-2",children:[g.jsx("span",{children:"ğŸ‰"}),g.jsx("span",{className:"font-semibold",children:"MAZE MASTER ACHIEVED!"}),g.jsx("span",{children:"ğŸ‰"})]}),g.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-700":"bg-gray-100"} mb-4`,children:[g.jsx("p",{className:"text-sm font-semibold mb-2",children:"ğŸŒŸ Congratulations! ğŸŒŸ"}),g.jsxs("p",{className:"text-xs mb-2",children:["You've successfully completed all ",K.length," levels of the Robot Maze Navigator!"]}),g.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium",children:["You are now officially a ",g.jsx("strong",{children:"Maze Navigation Expert!"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-xs",children:[g.jsxs("div",{className:"p-2 rounded-lg "+(a?"bg-green-900/30":"bg-green-100"),children:[g.jsx("div",{className:"text-green-600 dark:text-green-400 font-semibold text-xs",children:"Levels Completed"}),g.jsxs("div",{className:"text-lg font-bold",children:[K.length,"/5"]})]}),g.jsxs("div",{className:"p-2 rounded-lg "+(a?"bg-blue-900/30":"bg-blue-100"),children:[g.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs",children:"Final Score"}),g.jsx("div",{className:"text-lg font-bold",children:k})]})]}),g.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[g.jsx("button",{onClick:()=>{L(!1),B(!1),re(),s&&s("easy")},className:"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-all duration-300 font-medium text-sm",children:"ğŸ”„ Play Again"}),g.jsx("button",{onClick:()=>{L(!1),B(!1)},className:"px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-lg hover:from-yellow-600 hover:to-orange-700 transition-all duration-300 font-medium text-sm",children:"ğŸ¯ Stay & Explore"})]}),g.jsxs("div",{className:"flex justify-center gap-1 flex-wrap",children:[g.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-white rounded-full text-xs font-bold",children:"ğŸ¥‡ CHAMPION"}),g.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white rounded-full text-xs font-bold",children:"ğŸ§  GENIUS"}),g.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white rounded-full text-xs font-bold",children:"ğŸ¤– ROBOT WHISPERER"})]})]})]})}),"completed"===S&&g.jsx("div",{className:`p-3 rounded-lg border-l-4 border-green-500 ${a?"bg-green-900/20":"bg-green-50"} mb-3`,children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(N,{className:"text-green-500 mr-3"}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("h4",{className:"font-bold "+(a?"text-green-300":"text-green-800"),children:["ğŸ‰ Level ",Object.keys(X).indexOf(te)+1," Complete!"]}),g.jsxs("div",{className:(a?"text-green-400":"text-green-700")+" mb-2",children:[g.jsxs("p",{className:"font-semibold",children:["Final Score: ",k," points"]}),g.jsxs("div",{className:"text-sm grid grid-cols-2 gap-2 mt-1",children:[g.jsxs("span",{children:["â±ï¸ Time: ",(ne=M,`${Math.floor(ne/60)}:${(ne%60).toString().padStart(2,"0")}`)]}),g.jsxs("span",{children:["ğŸ¯ Commands: ",i.length,"/",se.maxCommands]}),g.jsxs("span",{children:["ğŸ”„ Attempts: ",$]}),g.jsxs("span",{children:["ğŸ“Š Efficiency: ",Math.round((se.maxCommands-i.length)/se.maxCommands*100),"%"]})]})]}),"master"!==te&&g.jsxs("div",{className:"text-sm "+(a?"text-green-300":"text-green-600"),children:[g.jsxs("p",{className:"mb-1",children:["ğŸ‰ Level ",Object.keys(X).indexOf(te)+1," completed!",K.indexOf(te)<K.length-1&&g.jsx("span",{className:"font-semibold",children:" Next level unlocked!"})]}),K.indexOf(te)<K.length-1&&g.jsxs("p",{children:["ğŸ’¡ Ready for the next challenge? Try Level ",Object.keys(X).indexOf(te)+2,"!"]})]}),"master"===te&&g.jsxs("p",{className:"text-sm font-bold "+(a?"text-yellow-300":"text-yellow-600"),children:["ğŸ† MASTER LEVEL CONQUERED! You've completed all ",K.length," levels! You're a maze navigation expert!"]})]})]})}),"failed"===S&&g.jsx("div",{className:`p-3 rounded-lg border-l-4 border-red-500 ${a?"bg-red-900/20":"bg-red-50"} mb-3`,children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"text-red-500 mr-3",children:"âš ï¸"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold "+(a?"text-red-300":"text-red-800"),children:"Oops! The robot hit a wall or didn't reach the target."}),g.jsx("p",{className:""+(a?"text-red-400":"text-red-700"),children:"Try adjusting your commands and run again!"})]})]})}),g.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-700":"bg-gray-100"} mb-4`,children:[g.jsx("h3",{className:"font-semibold mb-2 text-sm "+(a?"text-white":"text-gray-800"),children:"How to Play:"}),g.jsxs("ul",{className:"text-xs space-y-1 "+(a?"text-gray-300":"text-gray-600"),children:[g.jsx("li",{children:"â€¢ Click the arrow buttons to add movement commands"}),g.jsx("li",{children:"â€¢ Guide the robot ğŸ¤– to the target ğŸ¯"}),g.jsx("li",{children:"â€¢ Avoid walls ğŸ§± - hitting them will fail the mission"}),g.jsx("li",{children:"â€¢ Use fewer commands and complete faster for higher scores"}),g.jsx("li",{children:"â€¢ Complete each level to unlock the next challenge"}),g.jsxs("li",{children:["â€¢ Maximum commands allowed: ",se.maxCommands]}),g.jsx("li",{children:"â€¢ Progress is saved automatically across sessions"})]})]})]})});var ne},Q=({onComplete:e,difficulty:t="easy"})=>{const{isDark:s}=y(),[a,l]=m.useState(0),[r,i]=m.useState(0),[n,d]=m.useState(null),[o,c]=m.useState(!1),[x,h]=m.useState(!1),[u,b]=m.useState(0),[p,j]=m.useState(!0),f=["ğŸ","ğŸŒ","ğŸŠ","ğŸ‡","ğŸ“","ğŸ¥","ğŸ‘","ğŸ«","ğŸ’","ğŸ¥­"],[v]=m.useState(()=>{const e=(()=>{switch(t){case"easy":default:return 5;case"medium":return 8;case"hard":return 10}})();return Array(e).fill(null).map(()=>(()=>{const e=f[Math.floor(Math.random()*f.length)],t=Math.floor(10*Math.random())+1,s=[];for(;s.length<3;){const e=Math.floor(10*Math.random())+1;e===t||s.includes(e)||s.push(e)}const a=[t,...s].sort(()=>Math.random()-.5);return{fruit:e,count:t,correctAnswer:t,options:a,fruits:Array(t).fill(e)}})())}),[N,w]=m.useState(new Array(v.length).fill(null));m.useEffect(()=>{let e;return p&&!x&&(e=setInterval(()=>{b(e=>e+1)},1e3)),()=>clearInterval(e)},[p,x]);const E=()=>{l(0),i(0),d(null),c(!1),h(!1),b(0),j(!0),w(new Array(v.length).fill(null))},$=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,A=v[a],M=N.filter(e=>null==e?void 0:e.isCorrect).length;return x?g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-green-50 to-blue-50"} p-4`,children:g.jsx("div",{className:"max-w-md mx-auto",children:g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:"ğŸ‰"}),g.jsx("h2",{className:"text-2xl font-bold mb-4 "+(s?"text-white":"text-gray-800"),children:"Great Job!"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{className:"p-4 rounded-lg "+(s?"bg-gray-700":"bg-green-100"),children:[g.jsx("div",{className:"text-2xl font-bold text-green-600",children:r}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:"Points"})]}),g.jsxs("div",{className:"p-4 rounded-lg "+(s?"bg-gray-700":"bg-blue-100"),children:[g.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[M,"/",v.length]}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:"Correct"})]})]}),g.jsxs("div",{className:"mb-6 "+(s?"text-gray-300":"text-gray-600"),children:[g.jsxs("p",{children:["Time: ",$(u)]}),g.jsxs("p",{children:["Accuracy: ",Math.round(M/v.length*100),"%"]})]}),g.jsxs("button",{onClick:E,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-green-600 hover:to-blue-600 transition-all duration-200 flex items-center justify-center",children:[g.jsx(S,{className:"mr-2"}),"Play Again"]})]})})}):g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-green-50 to-blue-50"} p-4`,children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h1",{className:"text-xl font-bold "+(s?"text-white":"text-gray-800"),children:"ğŸ Fruit Counter"}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:$(u)})]}),g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:["Question ",a+1," of ",v.length]}),g.jsxs("div",{className:"text-lg font-bold text-green-600",children:[r," points"]})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:(a+1)/v.length*100+"%"}})})]}),g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold mb-6 text-center "+(s?"text-white":"text-gray-800"),children:"Count the fruits!"}),g.jsx("div",{className:"grid grid-cols-5 gap-2 mb-6 justify-items-center",children:A.fruits.map((e,t)=>g.jsx("div",{className:"text-4xl animate-bounce",style:{animationDelay:.1*t+"s"},children:e},t))})]}),g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-center "+(s?"text-white":"text-gray-800"),children:"How many fruits do you see?"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.options.map((t,x)=>{let m="w-full py-4 px-6 rounded-xl font-bold text-xl transition-all duration-200 transform hover:scale-105 ";return o?t===A.correctAnswer?m+="bg-green-500 text-white":m+=t===n?"bg-red-500 text-white":s?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-500":m+=s?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-800 hover:bg-gray-200",g.jsx("button",{onClick:()=>(t=>{if(o)return;d(t),c(!0);const s=t===v[a].correctAnswer;s&&i(e=>e+10);const n=[...N];n[a]={answer:t,isCorrect:s},w(n),setTimeout(()=>{a<v.length-1?(l(e=>e+1),d(null),c(!1)):(h(!0),j(!1),e&&e({score:r+(s?10:0),timeElapsed:u,totalQuestions:v.length,correctAnswers:n.filter(e=>null==e?void 0:e.isCorrect).length}))},1500)})(t),disabled:o,className:m,children:g.jsxs("div",{className:"flex items-center justify-center",children:[t,o&&t===A.correctAnswer&&g.jsx(C,{className:"ml-2 text-green-200"}),o&&t===n&&t!==A.correctAnswer&&g.jsx(k,{className:"ml-2 text-red-200"})]})},x)})})]})]})})},V=({onComplete:e,difficulty:t="easy"})=>{const{isDark:s}=y(),[a,l]=m.useState(0),[r,i]=m.useState(0),[o,c]=m.useState(null),[x,h]=m.useState(new Set),[u,b]=m.useState(new Set),[p,j]=m.useState(!1),[f,v]=m.useState(0),[N,w]=m.useState(!0),$={easy:{colors:[{name:"red",hex:"#EF4444",objects:["ğŸ","ğŸ“","ğŸŒ¹","â¤ï¸"]},{name:"blue",hex:"#3B82F6",objects:["ğŸ”µ","ğŸ«","ğŸ™","ğŸ¦‹"]},{name:"yellow",hex:"#EAB308",objects:["ğŸŒ","ğŸŒ»","â­","ğŸŒ™"]},{name:"green",hex:"#22C55E",objects:["ğŸ€","ğŸ¥’","ğŸ¸","ğŸŒ¿"]}],levelCount:3},medium:{colors:[{name:"red",hex:"#EF4444",objects:["ğŸ","ğŸ“","ğŸŒ¹","â¤ï¸"]},{name:"blue",hex:"#3B82F6",objects:["ğŸ”µ","ğŸ«","ğŸ™","ğŸ¦‹"]},{name:"yellow",hex:"#EAB308",objects:["ğŸŒ","ğŸŒ»","â­","ğŸŒ™"]},{name:"green",hex:"#22C55E",objects:["ğŸ€","ğŸ¥’","ğŸ¸","ğŸŒ¿"]},{name:"purple",hex:"#8B5CF6",objects:["ğŸ‡","ğŸ”®","ğŸ‘¾","ğŸŒ‚"]},{name:"orange",hex:"#F97316",objects:["ğŸŠ","ğŸ¥•","ğŸ¦Š","ğŸ”¥"]}],levelCount:4},hard:{colors:[{name:"red",hex:"#EF4444",objects:["ğŸ","ğŸ“","ğŸŒ¹","â¤ï¸"]},{name:"blue",hex:"#3B82F6",objects:["ğŸ”µ","ğŸ«","ğŸ™","ğŸ¦‹"]},{name:"yellow",hex:"#EAB308",objects:["ğŸŒ","ğŸŒ»","â­","ğŸŒ™"]},{name:"green",hex:"#22C55E",objects:["ğŸ€","ğŸ¥’","ğŸ¸","ğŸŒ¿"]},{name:"purple",hex:"#8B5CF6",objects:["ğŸ‡","ğŸ”®","ğŸ‘¾","ğŸŒ‚"]},{name:"orange",hex:"#F97316",objects:["ğŸŠ","ğŸ¥•","ğŸ¦Š","ğŸ”¥"]},{name:"pink",hex:"#EC4899",objects:["ğŸŒ¸","ğŸ¦©","ğŸ‘","ğŸ’–"]},{name:"brown",hex:"#A3A3A3",objects:["ğŸ¥¥","ğŸ»","ğŸ«","ğŸŒ°"]}],levelCount:5}}[t],A=Math.min(4,$.colors.length),[M]=m.useState(()=>Array($.levelCount).fill(null).map((e,t)=>(e=>{const t=2*e%$.colors.length,s=[];for(let a=0;a<A;a++){const l=(t+a)%$.colors.length,r=$.colors[l],i=r.objects[Math.floor(Math.random()*r.objects.length)];s.push(d(n({},r),{object:i,id:`${r.name}-${e}-${a}`}))}return s})(t))),z=M[a]||[];m.useEffect(()=>{let e;return N&&!p&&(e=setInterval(()=>{v(e=>e+1)},1e3)),()=>clearInterval(e)},[N,p]);const T=t=>{x.has(t.id)||(null===o?c(t):o.id===t.id?c(null):o.name===t.name?(h(e=>new Set([...e,o.id,t.id])),i(e=>e+20),c(null),x.size+2>=z.length&&setTimeout(()=>{a<M.length-1?(l(e=>e+1),h(new Set),b(new Set),c(null)):(j(!0),w(!1),e&&e({score:r,timeElapsed:f,levelsCompleted:M.length,totalMatches:M.reduce((e,t)=>e+t.length,0)}))},1e3)):(b(e=>new Set([...e,`${o.id}-${t.id}`])),setTimeout(()=>{b(e=>{const s=new Set(e);return s.delete(`${o.id}-${t.id}`),s}),c(null)},1e3)))},F=()=>{l(0),i(0),c(null),h(new Set),b(new Set),j(!1),v(0),w(!0)},O=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,P=e=>x.has(e.id),I=e=>(null==o?void 0:o.id)===e.id,L=e=>!!o&&(u.has(`${o.id}-${e.id}`)||u.has(`${e.id}-${o.id}`));if(p){const e=M.reduce((e,t)=>e+t.length,0),t=Math.round(r/(20*e)*100);return g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-pink-50 to-purple-50"} p-4`,children:g.jsx("div",{className:"max-w-md mx-auto",children:g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:"ğŸ¨"}),g.jsx("h2",{className:"text-2xl font-bold mb-4 "+(s?"text-white":"text-gray-800"),children:"Fantastic!"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{className:"p-4 rounded-lg "+(s?"bg-gray-700":"bg-pink-100"),children:[g.jsx("div",{className:"text-2xl font-bold text-pink-600",children:r}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:"Points"})]}),g.jsxs("div",{className:"p-4 rounded-lg "+(s?"bg-gray-700":"bg-purple-100"),children:[g.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.length}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:"Levels"})]})]}),g.jsxs("div",{className:"mb-6 "+(s?"text-gray-300":"text-gray-600"),children:[g.jsxs("p",{children:["Time: ",O(f)]}),g.jsxs("p",{children:["Accuracy: ",t,"%"]})]}),g.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[...Array(5)].map((e,s)=>g.jsx(E,{className:"text-2xl "+(s<t/20?"text-yellow-400":"text-gray-300")},s))}),g.jsxs("button",{onClick:F,className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-pink-600 hover:to-purple-600 transition-all duration-200 flex items-center justify-center",children:[g.jsx(S,{className:"mr-2"}),"Play Again"]})]})})})}return g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-pink-50 to-purple-50"} p-4`,children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h1",{className:"text-xl font-bold "+(s?"text-white":"text-gray-800"),children:"ğŸ¨ Color Matching"}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:O(f)})]}),g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:["Level ",a+1," of ",M.length]}),g.jsxs("div",{className:"text-lg font-bold text-pink-600",children:[r," points"]})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:(a+1)/M.length*100+"%"}})})]}),g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2 text-center "+(s?"text-white":"text-gray-800"),children:"Match objects with their colors!"}),g.jsx("p",{className:"text-sm text-center "+(s?"text-gray-300":"text-gray-600"),children:"Tap an object, then tap the matching color circle"})]}),g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-center "+(s?"text-white":"text-gray-800"),children:"Objects"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.map((e,t)=>{const a=P(e),l=I(e),r=L(e);let i="w-full h-20 rounded-xl text-4xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center ";return i+=a?"bg-green-500 text-white":l?"bg-blue-500 text-white ring-4 ring-blue-300":r?"bg-red-500 text-white":s?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-800 hover:bg-gray-200",g.jsx("button",{onClick:()=>T(e),disabled:a,className:i,children:g.jsxs("div",{className:"flex items-center justify-center",children:[e.object,a&&g.jsx(C,{className:"ml-2 text-green-200"}),r&&g.jsx(k,{className:"ml-2 text-red-200"})]})},e.id)})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-center "+(s?"text-white":"text-gray-800"),children:"Colors"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.map((e,t)=>{const s=P(e),a=I(e),l=L(e);let r="w-full h-20 rounded-xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center text-white font-semibold ";return s?r+="ring-4 ring-green-400":a?r+="ring-4 ring-blue-300":l&&(r+="ring-4 ring-red-400"),g.jsx("button",{onClick:()=>T(e),disabled:s,className:r,style:{backgroundColor:e.hex},children:g.jsxs("div",{className:"flex items-center justify-center",children:[e.name,s&&g.jsx(C,{className:"ml-2 text-white"}),l&&g.jsx(k,{className:"ml-2 text-white"})]})},`color-${e.id}`)})})]})]})]})})},_=({onComplete:e,difficulty:t="easy"})=>{const{isDark:s}=y(),[a,l]=m.useState(0),[r,i]=m.useState(0),[o,c]=m.useState(null),[x,h]=m.useState({}),[u,b]=m.useState(new Set),[p,j]=m.useState(!1),[f,v]=m.useState(0),[N,w]=m.useState(!0),k={circle:{name:"Circle",emoji:"ğŸ”´",color:"#EF4444"},square:{name:"Square",emoji:"ğŸŸ¦",color:"#3B82F6"},triangle:{name:"Triangle",emoji:"ğŸ”º",color:"#22C55E"},star:{name:"Star",emoji:"â­",color:"#EAB308"},heart:{name:"Heart",emoji:"â¤ï¸",color:"#EC4899"},diamond:{name:"Diamond",emoji:"ğŸ”·",color:"#8B5CF6"}},$={easy:{shapesPerLevel:2,shapesCount:4,levelCount:3,availableShapes:["circle","square","triangle","star"]},medium:{shapesPerLevel:3,shapesCount:6,levelCount:4,availableShapes:["circle","square","triangle","star","heart"]},hard:{shapesPerLevel:4,shapesCount:8,levelCount:5,availableShapes:["circle","square","triangle","star","heart","diamond"]}}[t],[A]=m.useState(()=>Array($.levelCount).fill(null).map((e,t)=>(e=>{const t=$.availableShapes.slice(0,$.shapesPerLevel),s=[];for(let a=0;a<$.shapesCount;a++){const l=t[Math.floor(Math.random()*t.length)];s.push(n({id:`${l}-${e}-${a}`,type:l},k[l]))}return{shapes:s,categories:t.map(e=>n({key:e},k[e]))}})(t))),M=A[a]||{shapes:[],categories:[]};m.useEffect(()=>{let e;return N&&!p&&(e=setInterval(()=>{v(e=>e+1)},1e3)),()=>clearInterval(e)},[N,p]);const z=t=>{o&&(t=>{if(!o)return;o.type===t?(h(e=>d(n({},e),{[o.id]:t})),i(e=>e+15),Object.keys(x).length+1>=M.shapes.length&&setTimeout(()=>{a<A.length-1?(l(e=>e+1),h({}),b(new Set),c(null)):(j(!0),w(!1),e&&e({score:r+15,timeElapsed:f,levelsCompleted:A.length,totalShapes:A.reduce((e,t)=>e+t.shapes.length,0)}))},1e3)):(b(e=>new Set([...e,`${o.id}-${t}`])),setTimeout(()=>{b(e=>{const s=new Set(e);return s.delete(`${o.id}-${t}`),s})},1e3));c(null)})(t)},T=()=>{l(0),i(0),c(null),h({}),b(new Set),j(!1),v(0),w(!0)},F=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;if(p){const e=A.reduce((e,t)=>e+t.shapes.length,0),t=Math.round(r/(15*e)*100);return g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-purple-50 to-blue-50"} p-4`,children:g.jsx("div",{className:"max-w-md mx-auto",children:g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:"ğŸ¯"}),g.jsx("h2",{className:"text-2xl font-bold mb-4 "+(s?"text-white":"text-gray-800"),children:"Well Done!"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{className:"p-4 rounded-lg "+(s?"bg-gray-700":"bg-purple-100"),children:[g.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:"Points"})]}),g.jsxs("div",{className:"p-4 rounded-lg "+(s?"bg-gray-700":"bg-blue-100"),children:[g.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.length}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:"Levels"})]})]}),g.jsxs("div",{className:"mb-6 "+(s?"text-gray-300":"text-gray-600"),children:[g.jsxs("p",{children:["Time: ",F(f)]}),g.jsxs("p",{children:["Accuracy: ",t,"%"]})]}),g.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[...Array(5)].map((e,s)=>g.jsx(E,{className:"text-2xl "+(s<t/20?"text-yellow-400":"text-gray-300")},s))}),g.jsxs("button",{onClick:T,className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200 flex items-center justify-center",children:[g.jsx(S,{className:"mr-2"}),"Play Again"]})]})})})}return g.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-purple-50 to-blue-50"} p-4`,children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h1",{className:"text-xl font-bold "+(s?"text-white":"text-gray-800"),children:"ğŸ”¹ Shape Sorter"}),g.jsx("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:F(f)})]}),g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"text-sm "+(s?"text-gray-300":"text-gray-600"),children:["Level ",a+1," of ",A.length]}),g.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[r," points"]})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:(a+1)/A.length*100+"%"}})})]}),g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2 text-center "+(s?"text-white":"text-gray-800"),children:"Sort the shapes!"}),g.jsx("p",{className:"text-sm text-center "+(s?"text-gray-300":"text-gray-600"),children:"Tap a shape, then tap the matching category"})]}),g.jsx("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 mb-4",children:g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-center "+(s?"text-white":"text-gray-800"),children:"Shapes to Sort"}),g.jsx("div",{className:"grid grid-cols-4 gap-3",children:M.shapes.map(e=>{const t=(e=>!!x[e.id])(e),a=(e=>(null==o?void 0:o.id)===e.id)(e);if(t)return g.jsx("div",{className:"w-16 h-16 rounded-xl bg-green-500 flex items-center justify-center text-2xl",children:g.jsx(C,{className:"text-white"})},e.id);let l="w-16 h-16 rounded-xl text-2xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center ";return l+=a?"bg-blue-500 text-white ring-4 ring-blue-300":s?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-800 hover:bg-gray-200",g.jsx("button",{onClick:()=>(e=>{x[e.id]||((null==o?void 0:o.id)===e.id?c(null):c(e))})(e),className:l,children:e.emoji},e.id)})})]})}),g.jsxs("div",{className:(s?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-center "+(s?"text-white":"text-gray-800"),children:"Categories"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:M.categories.map(e=>{const t=o&&(s=o.id,a=e.key,u.has(`${s}-${a}`));var s,a;const l=M.shapes.filter(t=>x[t.id]===e.key);let r="w-full h-24 rounded-xl transition-all duration-200 transform hover:scale-105 flex flex-col items-center justify-center text-white font-semibold relative ";return r+=t?"bg-red-500 ring-4 ring-red-300":"hover:ring-4 hover:ring-opacity-50",g.jsxs("button",{onClick:()=>z(e.key),className:r,style:{backgroundColor:e.color},children:[g.jsx("div",{className:"text-2xl mb-1",children:e.emoji}),g.jsx("div",{className:"text-xs",children:e.name}),l.length>0&&g.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:l.length}),t&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx(FaTimes,{className:"text-2xl text-white"})})]},e.key)})})]})]})})},Z=()=>{const{isDark:e}=y(),{user:t}=j(),s=B(),[a,l]=m.useState(null),[r,i]=m.useState([]),[o,h]=m.useState([]),[u,b]=m.useState(!1),[p,f]=m.useState({assignmentType:"class",selectedStudents:[],instructions:"",dueDate:"",difficulty:"medium"}),[v,N]=m.useState(!1);m.useEffect(()=>{"teacher"===(null==t?void 0:t.role)&&S()},[t]);const S=()=>c(void 0,null,function*(){try{const e=yield w.children.getAll();h(e.data.children||[])}catch(e){h([])}}),C=[{id:"maze-robot",title:"Robot Maze Navigator",description:"Guide a robot through a maze using directional commands",icon:T,subject:"Coding",ageGroup:"4-6",duration:"15-20 min",difficulty:"Easy",color:"bg-blue-500",component:Y},{id:"counting-fruits",title:"Fruit Counter",description:"Count fruits and match with numbers",icon:z,subject:"Math",ageGroup:"4-6",duration:"10-15 min",difficulty:"Easy",color:"bg-green-500",component:Q},{id:"color-matching",title:"Color Matching Game",description:"Match objects with their corresponding colors",icon:F,subject:"Colors",ageGroup:"4-6",duration:"10-15 min",difficulty:"Easy",color:"bg-pink-500",component:V},{id:"shape-sorter",title:"Shape Sorter",description:"Sort different shapes into correct categories",icon:O,subject:"Sorting",ageGroup:"4-6",duration:"15-20 min",difficulty:"Easy",color:"bg-purple-500",component:_},{id:"letter-finder",title:"Letter Finder",description:"Find and identify letters in words",icon:P,subject:"English",ageGroup:"4-6",duration:"15-20 min",difficulty:"Easy",color:"bg-yellow-500",component:null},{id:"nature-explorer",title:"Nature Explorer",description:"Learn about plants and animals in their habitats",icon:I,subject:"Science",ageGroup:"4-6",duration:"20-25 min",difficulty:"Medium",color:"bg-green-600",component:null}],k=(e,t)=>{r.find(t=>t.id===e)||i(s=>[...s,n({id:e,completedAt:new Date,score:t.score},t)])},E=({activity:t})=>{const[s,a]=m.useState("easy"),l=t.component,r=e=>{try{const t=localStorage.getItem("mazeGameProgress"),s=t?JSON.parse(t):[],l=["easy","medium","hard","expert","master"];if("easy"===e)return void a("easy");const r=l.indexOf(e),i=l[r-1];s.includes(i)?a(e):a("easy")}catch(t){a("easy")}};return x.useEffect(()=>{"maze-robot"===t.id&&r(s)},[t.id,s]),l?"maze-robot"===t.id?g.jsx(l,{onComplete:e=>k(t.id,e),difficulty:s,onLevelChange:r}):g.jsx(l,{onComplete:e=>k(t.id,e),difficulty:s}):g.jsxs("div",{className:"text-center p-8 "+(e?"text-gray-300":"text-gray-600"),children:[g.jsx("h3",{className:"text-xl font-bold mb-4",children:"Activity Not Available"}),g.jsx("p",{children:"This activity is coming soon!"})]})};return a?g.jsxs("div",{className:"min-h-screen "+(e?"bg-gray-900":"bg-gray-50"),children:[g.jsx("div",{className:"absolute top-0 left-0 z-10 p-4",children:g.jsxs("button",{onClick:()=>l(null),className:"inline-flex items-center px-4 py-2 rounded-lg transition-colors "+(e?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[g.jsx($,{className:"w-4 h-4 mr-2"}),"Back to Activities"]})}),g.jsx("div",{className:"h-screen w-full",children:g.jsx(E,{activity:a})})]}):g.jsx(R,{onRefresh:()=>c(void 0,null,function*(){"teacher"===(null==t?void 0:t.role)&&(yield S())}),children:g.jsxs(H,{children:[g.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"} transition-colors`,children:[g.jsxs("div",{className:"mobile-container pt-2 pb-8",children:[g.jsx("div",{className:"mobile-section",children:g.jsxs("div",{className:"flex flex-col space-y-3",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{onClick:()=>s("/dashboard"),className:"mobile-touch-target rounded-lg mr-3 transition-colors "+(e?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-600 hover:bg-gray-100"),children:g.jsx($,{})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h1",{className:"text-mobile-xl font-bold truncate "+(e?"text-white":"text-gray-900"),children:"Learning Activities"}),g.jsx("p",{className:"text-mobile-sm "+(e?"text-gray-400":"text-gray-600"),children:"Interactive games for young learners"})]})]}),"teacher"===(null==t?void 0:t.role)&&g.jsxs("button",{onClick:()=>b(!0),className:"mobile-btn-md bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors w-full",children:[g.jsx(A,{className:"mr-2"}),g.jsx("span",{className:"text-mobile-sm",children:"Assign Activity"})]})]})}),g.jsx("div",{className:"mobile-content",children:a?g.jsxs("div",{className:"rounded-xl shadow-lg overflow-hidden "+(e?"bg-gray-800":"bg-white"),children:[g.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{onClick:()=>l(null),className:"p-2 rounded-lg mr-4 transition-colors "+(e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:g.jsx($,{})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:a.title}),g.jsx("p",{className:""+(e?"text-gray-400":"text-gray-600"),children:a.description})]})]})})}),g.jsx("div",{className:"p-6",children:g.jsx(W,{children:a.component?g.jsx(a.component,{onComplete:()=>k(a.id),isDark:e}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(T,{className:"text-6xl text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-xl font-semibold mb-2 "+(e?"text-white":"text-gray-900"),children:"Coming Soon!"}),g.jsx("p",{className:""+(e?"text-gray-400":"text-gray-600"),children:"This activity is being developed and will be available soon."})]})})})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"mobile-grid-1 mb-6",children:[g.jsx("div",{className:"mobile-card "+(e?"bg-gray-800":"bg-white"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(M,{className:"text-2xl text-yellow-500 mr-3"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-mobile-lg font-bold "+(e?"text-white":"text-gray-900"),children:r.length}),g.jsx("p",{className:"text-mobile-xs "+(e?"text-gray-400":"text-gray-600"),children:"Completed"})]})]})}),g.jsx("div",{className:"mobile-card "+(e?"bg-gray-800":"bg-white"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(z,{className:"text-2xl text-blue-500 mr-3"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:C.length}),g.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Available"})]})]})}),g.jsx("div",{className:"p-6 rounded-xl shadow-lg "+(e?"bg-gray-800":"bg-white"),children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(T,{className:"text-3xl text-green-500 mr-4"}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-2xl font-bold "+(e?"text-white":"text-gray-900"),children:[Math.round(r.length/C.length*100)||0,"%"]}),g.jsx("p",{className:"text-sm "+(e?"text-gray-400":"text-gray-600"),children:"Progress"})]})]})})]}),g.jsx(L,{}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:C.map(t=>{const s=t.icon,a=r.includes(t.id);return g.jsxs("div",{className:`relative p-6 rounded-xl shadow-lg cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 ${e?"bg-gray-800":"bg-white"} ${a?"ring-2 ring-green-500":""}`,onClick:()=>(e=>{l(e)})(t),children:[a&&g.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-2",children:g.jsx(M,{className:"text-sm"})}),g.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${t.color}`,children:g.jsx(s,{className:"text-2xl text-white"})}),g.jsx("h3",{className:"text-xl font-bold mb-2 "+(e?"text-white":"text-gray-900"),children:t.title}),g.jsx("p",{className:"text-sm mb-4 "+(e?"text-gray-400":"text-gray-600"),children:t.description}),g.jsxs("div",{className:"flex justify-between items-center text-xs",children:[g.jsx("span",{className:"px-2 py-1 rounded-full "+(e?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:t.subject}),g.jsx("span",{className:""+(e?"text-gray-400":"text-gray-500"),children:t.duration})]}),g.jsxs("div",{className:"mt-3 flex items-center",children:[g.jsx("span",{className:"text-xs mr-2 "+(e?"text-gray-400":"text-gray-500"),children:t.difficulty}),g.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((s,a)=>g.jsx("div",{className:"w-2 h-2 rounded-full "+(a<("Easy"===t.difficulty?1:"Medium"===t.difficulty?2:3)?"bg-blue-500":e?"bg-gray-700":"bg-gray-300")},a))})]})]},t.id)})})]})})]}),g.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[g.jsxs("div",{className:"p-6 rounded-xl shadow-lg "+(e?"bg-gray-800":"bg-white"),children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 "+(e?"text-white":"text-gray-900"),children:"Your Progress"}),g.jsx("div",{className:"space-y-3",children:C.slice(0,3).map(t=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm "+(e?"text-gray-300":"text-gray-700"),children:t.title}),g.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(r.includes(t.id)?"bg-green-100 text-green-800":e?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"),children:r.includes(t.id)?"Done":"Todo"})]},t.id))})]}),g.jsxs("div",{className:"p-6 rounded-xl shadow-lg "+(e?"bg-gray-800":"bg-white"),children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 "+(e?"text-white":"text-gray-900"),children:"Learning Tips"}),g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsx("div",{className:"p-3 rounded-lg "+(e?"bg-gray-700":"bg-blue-50"),children:g.jsx("p",{className:""+(e?"text-gray-300":"text-blue-800"),children:"Take breaks every 15-20 minutes to stay focused"})}),g.jsx("div",{className:"p-3 rounded-lg "+(e?"bg-gray-700":"bg-green-50"),children:g.jsx("p",{className:""+(e?"text-gray-300":"text-green-800"),children:"Practice regularly for better learning outcomes"})})]})]})]})]}),u&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"max-w-md w-full mx-4 p-6 rounded-xl "+(e?"bg-gray-800":"bg-white"),children:[g.jsx("h3",{className:"text-xl font-bold mb-4 "+(e?"text-white":"text-gray-900"),children:"Assign Activity"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Assignment Type"}),g.jsxs("select",{value:p.assignmentType,onChange:e=>f(d(n({},p),{assignmentType:e.target.value})),className:"w-full p-3 rounded-lg border "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),children:[g.jsx("option",{value:"class",children:"Entire Class"}),g.jsx("option",{value:"individual",children:"Individual Students"}),g.jsx("option",{value:"group",children:"Group Assignment"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Instructions"}),g.jsx("textarea",{value:p.instructions,onChange:e=>f(d(n({},p),{instructions:e.target.value})),className:"w-full p-3 rounded-lg border "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),rows:"3",placeholder:"Enter assignment instructions..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2 "+(e?"text-gray-300":"text-gray-700"),children:"Due Date"}),g.jsx("input",{type:"date",value:p.dueDate,onChange:e=>f(d(n({},p),{dueDate:e.target.value})),className:"w-full p-3 rounded-lg border "+(e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")})]})]}),g.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[g.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-lg "+(e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Cancel"}),g.jsx("button",{onClick:()=>c(void 0,null,function*(){if(a)if("individual"!==p.assignmentType||0!==p.selectedStudents.length){N(!0);try{yield new Promise(e=>setTimeout(e,1e3));const e="class"===p.assignmentType?o.length:p.selectedStudents.length;G.success(`Activity "${a.title}" assigned to ${e} student${1!==e?"s":""}!`),b(!1),l(null)}catch(e){G.error("Failed to assign activity. Please try again.")}finally{N(!1)}}else G.error("Please select at least one student for individual assignment")}),disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?"Assigning...":"Assign"})]})]})}),g.jsx(D,{})]})})};export{Z as default};
