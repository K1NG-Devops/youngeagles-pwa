var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,i=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&o(e,s,t[s]);if(r)for(var s of r(t))l.call(t,s)&&o(e,s,t[s]);return e},n=(e,r)=>t(e,s(r));import{r as m}from"./vendor-react-BHu_3aIX.js";import{d,u as x}from"./vendor-router-BfAStt8k.js";import{u as c,l as u,n as p,j as b,m as g,o as h,b as y,p as f,q as v,r as j,s as w}from"./index-BetBoxhn.js";import"./vendor-utils-C_UPlz3V.js";const N=()=>{const[e,t]=m.useState({email:"",password:"",userType:"parent"}),[s,r]=m.useState(!1),[a]=d(),{login:l,loading:o}=c(),{isDark:N,toggleTheme:P}=u(),k=x();m.useEffect(()=>{const e=a.get("expired"),t=a.get("invalid");"true"===e?p.warning("Your session has expired. Please sign in again."):"true"===t&&p.error("Invalid authentication token. Please sign in again.")},[a]);const O=e=>{const{name:s,value:r}=e.target;t(e=>n(i({},e),{[s]:r}))};return b.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br "+(N?"from-gray-900 via-blue-900 to-purple-900":"from-blue-50 via-indigo-50 to-purple-50"),children:[b.jsx("button",{onClick:P,className:"fixed top-2 right-2 sm:top-4 sm:right-4 z-50 w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-lg "+(N?"bg-yellow-500 hover:bg-yellow-400 text-yellow-900":"bg-gray-800 hover:bg-gray-700 text-yellow-300"),children:N?b.jsx(g,{className:"text-sm sm:text-lg"}):b.jsx(h,{className:"text-sm sm:text-lg"})}),b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 sm:w-72 sm:h-72 rounded-full opacity-10 sm:opacity-20 blur-3xl animate-pulse "+(N?"bg-blue-500":"bg-blue-300")}),b.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-40 h-40 sm:w-96 sm:h-96 rounded-full opacity-10 sm:opacity-20 blur-3xl animate-pulse delay-1000 "+(N?"bg-purple-500":"bg-purple-300")})]}),b.jsxs("div",{className:"min-h-screen grid grid-rows-[minmax(auto,1fr)_minmax(auto,0.5fr)_auto] sm:grid-rows-[auto_1fr_auto] relative z-10 pt-4 sm:pt-24 pb-2 sm:pb-4 gap-2 sm:gap-0",children:[b.jsx("div",{className:"flex flex-col justify-center items-center px-2 sm:px-4 py-2 sm:py-6",children:b.jsxs("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-2xl mx-1 sm:mx-4",children:[b.jsxs("div",{className:"text-center mb-3 sm:mb-8",children:[b.jsx("div",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 rounded-xl sm:rounded-2xl flex items-center justify-center mb-2 sm:mb-4 transform hover:scale-105 transition-all duration-300 bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-xl",children:b.jsx(y,{className:"text-lg sm:text-2xl"})}),b.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-1 sm:mb-2 "+(N?"text-white":"text-gray-900"),children:"Young Eagles PWA"}),b.jsx("p",{className:"text-xs sm:text-sm font-medium "+(N?"text-gray-300":"text-gray-600"),children:"Welcome back! Sign in to continue"})]}),b.jsxs("form",{className:"space-y-2 sm:space-y-4",onSubmit:t=>{return s=void 0,r=null,a=function*(){if(t.preventDefault(),e.email&&e.password)try{(yield l({username:e.email,password:e.password},e.userType)).success&&k("/dashboard")}catch(s){p.error(s.message||"Failed to login. Please try again.")}else p.error("Please fill in all fields")},new Promise((e,l)=>{var o=e=>{try{n(a.next(e))}catch(t){l(t)}},i=e=>{try{n(a.throw(e))}catch(t){l(t)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,i);n((a=a.apply(s,r)).next())});var s,r,a},children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-3 "+(N?"text-gray-200":"text-gray-700"),children:"I am signing in as:"}),b.jsx("div",{className:"grid grid-cols-3 gap-1 sm:gap-2",children:["parent","teacher","admin"].map(s=>b.jsx("button",{type:"button",onClick:()=>t(e=>n(i({},e),{userType:s})),className:"px-1 sm:px-3 py-2 sm:py-2 text-xs sm:text-sm font-semibold rounded-md sm:rounded-lg transition-all duration-200 transform hover:scale-105 active:scale-95 min-h-[40px] sm:min-h-[44px] "+(e.userType===s?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":N?"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 border-2 border-gray-600":"bg-gray-100/50 text-gray-600 hover:bg-gray-200/50 border-2 border-gray-200"),disabled:o,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 "+(N?"text-gray-200":"text-gray-700"),children:"Email Address"}),b.jsx("div",{className:"relative",children:b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:O,className:"block w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 min-h-[40px] sm:min-h-[44px] "+(N?"bg-gray-700/70 border-gray-600 text-white placeholder-gray-400":"bg-white/80 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter your email address",disabled:o})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 "+(N?"text-gray-200":"text-gray-700"),children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:O,className:"block w-full pl-3 sm:pl-4 pr-12 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 min-h-[40px] sm:min-h-[44px] "+(N?"bg-gray-700/70 border-gray-600 text-white placeholder-gray-400":"bg-white/80 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter your password",disabled:o}),b.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center transition-colors duration-200 min-w-[44px] "+(N?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"),children:s?b.jsx(f,{className:"text-sm"}):b.jsx(v,{className:"text-sm"})})]})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center items-center py-2 sm:py-3 px-4 sm:px-6 border-2 border-transparent text-sm sm:text-base font-bold rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg min-h-[40px] sm:min-h-[44px] active:scale-95 "+(o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:-translate-y-1"),children:o?b.jsxs(b.Fragment,{children:[b.jsx(j,{className:"animate-spin mr-2"}),"Signing you in..."]}):"Sign In to Dashboard"}),b.jsx("div",{className:"text-center mt-2 sm:mt-4",children:b.jsxs("p",{className:"text-xs "+(N?"text-gray-400":"text-gray-600"),children:["Don't have an account?"," ",b.jsx("button",{type:"button",onClick:()=>k("/signup"),className:"font-semibold underline transition-colors duration-200 "+(N?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"),children:"Sign up here"})]})})]})]})}),b.jsx("div",{className:"flex flex-col justify-center items-center px-2 sm:px-4 py-2 sm:py-6",children:b.jsxs("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-2xl mx-1 sm:mx-4 p-3 sm:p-6 rounded-xl sm:rounded-2xl border-2 backdrop-blur-sm text-center "+(N?"bg-gradient-to-br from-gray-800/50 to-gray-700/50 border-gray-600/50":"bg-gradient-to-br from-blue-50/50 to-indigo-50/50 border-blue-200/50"),children:[b.jsxs("div",{className:"text-center mb-2 sm:mb-4",children:[b.jsx("h3",{className:"text-sm sm:text-xl font-bold mb-1 sm:mb-2 "+(N?"text-white":"text-gray-800"),children:"ðŸš€ Welcome to Young Eagles"}),b.jsx("p",{className:"text-xs sm:text-sm "+(N?"text-gray-300":"text-gray-600"),children:"Your comprehensive education management platform"})]}),b.jsx("div",{className:"grid grid-cols-2 gap-1 sm:gap-3 mb-2 sm:mb-4",children:[{icon:"ðŸ“±",text:"Mobile Optimized"},{icon:"ðŸ”’",text:"Secure Platform"},{icon:"âš¡",text:"Real-time Updates"},{icon:"ðŸŒ",text:"Offline Access"}].map((e,t)=>b.jsxs("div",{className:"flex flex-col items-center space-y-1 p-1 sm:p-3 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95 "+(N?"bg-gray-700/30 hover:bg-gray-600/30":"bg-white/30 hover:bg-white/50"),children:[b.jsx("span",{className:"text-base sm:text-2xl",children:e.icon}),b.jsx("span",{className:"text-xs font-medium text-center leading-tight "+(N?"text-gray-300":"text-gray-700"),children:e.text})]},t))}),b.jsx("div",{className:"pt-2 sm:pt-4 border-t text-center "+(N?"border-gray-600/50":"border-blue-200/50"),children:b.jsx("p",{className:"text-xs font-medium "+(N?"text-gray-400":"text-gray-500"),children:"ðŸ’¡ Need help? Contact your school administrator"})})]})})]}),b.jsx(w,{})]})};export{N as default};
