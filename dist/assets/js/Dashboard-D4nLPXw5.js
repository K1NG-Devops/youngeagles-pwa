var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,n=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&i(e,s,t[s]);if(r)for(var s of r(t))l.call(t,s)&&i(e,s,t[s]);return e},o=(e,r)=>t(e,s(r)),d=(e,t,s)=>new Promise((r,a)=>{var l=e=>{try{n(s.next(e))}catch(t){a(t)}},i=e=>{try{n(s.throw(e))}catch(t){a(t)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,i);n((s=s.apply(e,t)).next())});import{r as c}from"./vendor-react-BHu_3aIX.js";import{l as m,j as x,b as g,B as h,C as u,D as b,E as p,g as f,u as y,G as j,J as v,r as w,K as N,L as k,A as S,n as C,M as P,N as E,O as $,t as Y,a as O,P as A,Q as D,R as T,f as I,T as R,U as B}from"./index-BetBoxhn.js";import{u as L,L as _}from"./vendor-router-BfAStt8k.js";import{u as q}from"./useGestures-sVTp90b9.js";import{T as M}from"./TeacherDashboard-Dew94r4D.js";import F from"./AdminDashboard-CuyBrSCe.js";import"./vendor-utils-C_UPlz3V.js";import"./pushNotificationService-p4hihJdM.js";const G=({isLoading:e,loadingText:t="Loading...",children:s,showProgress:r=!1,progress:a=0,delay:l=0})=>{const{isDark:i}=m(),[n,o]=c.useState(!1),[d,u]=c.useState("");return c.useEffect(()=>{if(e){const e=setTimeout(()=>{o(!0)},l);return()=>clearTimeout(e)}o(!1)},[e,l]),c.useEffect(()=>{if(n){const e=setInterval(()=>{u(e=>e.length>=3?"":e+".")},500);return()=>clearInterval(e)}},[n]),n?x.jsxs("div",{className:`\n      flex flex-col items-center justify-center min-h-screen p-6\n      ${i?"bg-gray-900":"bg-gray-50"}\n      transition-colors duration-300\n    `,children:[x.jsxs("div",{className:"relative mb-8",children:[x.jsx("div",{className:`\n          w-20 h-20 rounded-full flex items-center justify-center\n          ${i?"bg-blue-600":"bg-blue-500"}\n          animate-pulse\n        `,children:x.jsx(g,{className:"text-3xl text-white"})}),x.jsx("div",{className:`\n          absolute inset-0 w-20 h-20 border-4 border-transparent\n          ${i?"border-t-blue-400":"border-t-blue-300"}\n          rounded-full animate-spin\n        `})]}),x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:`\n          text-xl font-semibold mb-2\n          ${i?"text-white":"text-gray-900"}\n        `,children:"Young Eagles"}),x.jsxs("p",{className:`\n          text-sm\n          ${i?"text-gray-400":"text-gray-600"}\n        `,children:[t,d]})]}),r&&x.jsxs("div",{className:"w-full max-w-xs mb-6",children:[x.jsx("div",{className:`\n            w-full h-2 rounded-full\n            ${i?"bg-gray-700":"bg-gray-200"}\n          `,children:x.jsx("div",{className:`\n                h-full rounded-full transition-all duration-300 ease-out\n                ${i?"bg-blue-500":"bg-blue-600"}\n              `,style:{width:`${Math.min(a,100)}%`}})}),x.jsxs("p",{className:`\n            text-xs mt-2 text-center\n            ${i?"text-gray-500":"text-gray-400"}\n          `,children:[Math.round(a),"% complete"]})]}),x.jsxs("div",{className:`\n        flex items-center space-x-2 text-xs\n        ${i?"text-gray-500":"text-gray-400"}\n      `,children:[x.jsx(h,{className:"w-3 h-3"}),x.jsx("span",{children:"Connecting to Young Eagles..."})]}),x.jsx("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .animate-fadeIn {\n          animation: fadeIn 0.5s ease-out;\n        }\n      "})]}):s},U=()=>{const{isDark:e}=m(),[t,s]=c.useState(navigator.onLine),[r,a]=c.useState(!1),[l,i]=c.useState(!1),[n,o]=c.useState(null),[g,h]=c.useState(!1),[y,j]=c.useState(!1);c.useEffect(()=>{const e=()=>{s(!0),a(!1)},t=()=>{s(!1),a(!0),setTimeout(()=>a(!1),5e3)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),c.useEffect(()=>{const e=e=>{e.preventDefault(),o(e);const t=window.matchMedia("(display-mode: standalone)").matches,s=/iPad|iPhone|iPod/.test(navigator.userAgent);t||s||i(!0)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),c.useEffect(()=>{"Notification"in window&&h("granted"===Notification.permission);const e="true"===localStorage.getItem("notificationPromptDismissed");j(e)},[]);const v=()=>{j(!0),localStorage.setItem("notificationPromptDismissed","true")};return x.jsxs(x.Fragment,{children:[r&&x.jsxs("div",{className:`\n          fixed top-4 left-4 right-4 z-[9999] mx-auto max-w-sm\n          ${e?"bg-gray-800 text-white":"bg-white text-gray-900"}\n          border ${e?"border-gray-700":"border-gray-200"}\n          rounded-lg shadow-lg p-4 flex items-center space-x-3\n          animate-slideDown\n        `,children:[x.jsx(u,{className:"text-red-500 flex-shrink-0"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm font-medium",children:"You're offline"}),x.jsx("p",{className:"text-xs "+(e?"text-gray-400":"text-gray-600"),children:"Some features may be limited"})]}),x.jsx("button",{onClick:()=>a(!1),className:"p-1 rounded "+(e?"hover:bg-gray-700":"hover:bg-gray-100"),children:x.jsx(b,{className:"w-3 h-3"})})]}),l&&x.jsx("div",{className:`\n          fixed bottom-4 left-4 right-4 z-[9999] mx-auto max-w-sm\n          ${e?"bg-blue-900 text-white":"bg-blue-50 text-blue-900"}\n          border ${e?"border-blue-700":"border-blue-200"}\n          rounded-lg shadow-lg p-4\n          animate-slideUp\n        `,children:x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("div",{className:`\n              w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0\n              ${e?"bg-blue-800":"bg-blue-100"}\n            `,children:x.jsx(p,{className:"text-blue-500"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Install Young Eagles"}),x.jsx("p",{className:"text-xs mb-3 "+(e?"text-blue-200":"text-blue-700"),children:"Get the full app experience with offline access and notifications"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>d(void 0,null,function*(){if(n){n.prompt();const{outcome:e}=yield n.userChoice;"accepted"===e&&i(!1),o(null)}}),className:"\n                    px-3 py-1 rounded text-xs font-medium transition-colors\n                    bg-blue-600 text-white hover:bg-blue-700\n                  ",children:"Install"}),x.jsx("button",{onClick:()=>i(!1),className:`\n                    px-3 py-1 rounded text-xs transition-colors\n                    ${e?"text-blue-300 hover:bg-blue-800":"text-blue-600 hover:bg-blue-100"}\n                  `,children:"Not now"})]})]})]})}),!g&&!y&&"Notification"in window&&x.jsx("div",{className:`\n          fixed top-16 left-4 right-4 z-[9998] mx-auto max-w-sm\n          ${e?"bg-purple-900 text-white":"bg-purple-50 text-purple-900"}\n          border ${e?"border-purple-700":"border-purple-200"}\n          rounded-lg shadow-lg p-4\n          animate-slideDown\n        `,children:x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("div",{className:`\n              w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\n              ${e?"bg-purple-800":"bg-purple-100"}\n            `,children:x.jsx(f,{className:"text-purple-500 text-sm"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Enable Notifications"}),x.jsx("p",{className:"text-xs mb-2 "+(e?"text-purple-200":"text-purple-700"),children:"Stay updated with homework and announcements"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>d(void 0,null,function*(){if("Notification"in window)try{if("granted"===Notification.permission)return h(!0),void j(!0);const e=yield Notification.requestPermission();h("granted"===e),"granted"===e?(j(!0),localStorage.setItem("notificationPermptDismissed","true"),new Notification("Young Eagles",{body:"Notifications enabled! You'll now receive homework and announcement updates.",icon:"/icon-192x192.png"})):"denied"===e&&(j(!0),localStorage.setItem("notificationPromptDismissed","true"),alert('Notifications were blocked. To enable notifications later, please:\n\n1. Click the lock icon in your browser address bar\n2. Change "Notifications" to "Allow"\n3. Refresh the page'))}catch(e){j(!0),localStorage.setItem("notificationPromptDismissed","true")}}),className:"\n                    px-3 py-1 rounded text-xs font-medium transition-colors\n                    bg-purple-600 text-white hover:bg-purple-700\n                  ",children:"Enable"}),x.jsx("button",{onClick:v,className:`\n                    px-3 py-1 rounded text-xs transition-colors\n                    ${e?"text-purple-300 hover:bg-purple-800":"text-purple-600 hover:bg-purple-100"}\n                  `,children:"Not now"})]})]}),x.jsx("button",{onClick:v,className:"p-1 rounded "+(e?"hover:bg-purple-800":"hover:bg-purple-100"),children:x.jsx(b,{className:"w-3 h-3"})})]})}),x.jsx("style",{jsx:!0,children:"\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .animate-slideDown {\n          animation: slideDown 0.3s ease-out;\n        }\n        \n        .animate-slideUp {\n          animation: slideUp 0.3s ease-out;\n        }\n      "})]})},z=({isOpen:e,onClose:t,onSuccess:s})=>{const{user:r}=y(),{isDark:a}=m(),[l,i]=c.useState(1),[g,h]=c.useState(!1),[p,f]=c.useState([]),[P,E]=c.useState(""),[$,Y]=c.useState([]),[O,A]=c.useState(!1),[D,T]=c.useState(null),[I,R]=c.useState({firstName:"",lastName:"",dateOfBirth:"",class:"",currentSchool:"",isYoungEaglesChild:!1,gender:"",allergies:"",emergencyContact:"",emergencyPhone:"",medicalConditions:"",notes:""}),[B,L]=c.useState({});c.useEffect(()=>{const e=setTimeout(()=>{var e;e=P,d(void 0,null,function*(){if(!e||e.length<2)Y([]);else try{A(!0);const t=yield S.children.search(e);Y(t.data.children||[])}catch(t){C.error("Failed to search for existing children")}finally{A(!1)}})},500);return()=>clearTimeout(e)},[P]);const _=e=>{const{name:t,value:s,type:r,checked:a}=e.target;let l="checkbox"===r?a:s;if("emergencyPhone"===t){const e=s.replace(/\D/g,"");l=e,e.length>=10&&(l=e.slice(0,10),l=l.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"))}R(e=>{const s=o(n({},e),{[t]:l});if("dateOfBirth"===t||"isYoungEaglesChild"===t){const r="dateOfBirth"===t?l:e.dateOfBirth,a="isYoungEaglesChild"===t?l:e.isYoungEaglesChild;s.class=((e,t)=>{if(!e)return"";const s=new Date(e),r=new Date,a=12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth()),l=Math.floor(a/12);if(t){if(l>=1&&l<=3)return"Panda";if(l>=4&&l<=6)return"Curious Cubs"}else{if(l>=1&&l<=3)return"Little Explorers";if(l>=4&&l<=6)return"Tiny Adventurers"}return"Unassigned"})(r,a)}return s}),B[t]&&L(e=>o(n({},e),{[t]:""}))},q=()=>{i(1),R({firstName:"",lastName:"",dateOfBirth:"",class:"",currentSchool:"",isYoungEaglesChild:!1,gender:"",allergies:"",emergencyContact:"",emergencyPhone:"",medicalConditions:"",notes:""}),L({}),E(""),Y([]),T(null),t()};return e?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:x.jsxs("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl "+(a?"bg-gray-800":"bg-white"),children:[x.jsx("div",{className:"p-6 border-b "+(a?"border-gray-700":"border-gray-200"),children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(j,{className:"text-2xl text-blue-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold "+(a?"text-white":"text-gray-900"),children:1===l?"Register Child":2===l?"Child Information":"Registration Complete"}),x.jsx("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-600"),children:1===l?"Search for existing child or register new child":2===l?"Fill in your child's information (all fields with * are required)":"Your request has been submitted"})]})]}),x.jsx("button",{onClick:q,className:"p-2 rounded-lg transition-colors "+(a?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"),children:x.jsx(b,{})})]})}),x.jsx("div",{className:"px-6 py-4",children:x.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(e=>x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold "+(l>=e?"bg-blue-500 text-white":a?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"),children:e}),e<3&&x.jsx("div",{className:"w-16 h-0.5 "+(l>e?"bg-blue-500":a?"bg-gray-700":"bg-gray-200")})]},e))})}),x.jsxs("div",{className:"p-6",children:[1===l&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-4 "+(a?"text-white":"text-gray-900"),children:"Is your child already a Young Eagles student?"}),x.jsxs("div",{className:"relative mb-4",children:[x.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 "+(a?"text-gray-400":"text-gray-500")}),x.jsx("input",{type:"text",placeholder:"Search by child's name...",value:P,onChange:e=>E(e.target.value),className:`w-full pl-10 pr-4 py-3 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),O&&x.jsx(w,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 animate-spin text-blue-500"})]}),$.length>0&&x.jsxs("div",{className:"border rounded-lg overflow-hidden "+(a?"border-gray-600":"border-gray-300"),children:[x.jsx("div",{className:"px-4 py-2 "+(a?"bg-gray-700":"bg-gray-50"),children:x.jsxs("p",{className:"text-sm font-medium "+(a?"text-gray-300":"text-gray-700"),children:["Found ",$.length," existing student(s)"]})}),x.jsx("div",{className:"max-h-40 overflow-y-auto",children:$.map(e=>x.jsx("div",{className:"p-4 border-b last:border-b-0 cursor-pointer transition-colors "+(a?"border-gray-600 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"),onClick:()=>(e=>d(void 0,null,function*(){try{h(!0),(yield S.children.linkToParent({childId:e.id,parentId:r.id,relationshipType:"parent",requiresApproval:!0})).data.success&&(C.success("Link request submitted for admin approval!"),T(e),i(3),yield S.notifications.send({recipientRole:"admin",title:"Parent-Child Link Request",message:`${r.name} wants to link to existing child: ${e.firstName} ${e.lastName}`,type:"admin_action_required",priority:"high",metadata:{childId:e.id,parentId:r.id,action:"approve_parent_child_link"}}))}catch(t){C.error("Failed to submit link request. Please try again.")}finally{h(!1)}}))(e),children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-medium "+(a?"text-white":"text-gray-900"),children:[e.firstName," ",e.lastName]}),x.jsxs("p",{className:"text-sm "+(a?"text-gray-400":"text-gray-600"),children:["Grade ",e.grade," • ",e.className]})]}),x.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors",children:"Link Child"})]})},e.id))})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center "+(a?"text-gray-600":"text-gray-400"),children:x.jsx("div",{className:"w-full border-t "+(a?"border-gray-600":"border-gray-300")})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 "+(a?"bg-gray-800 text-gray-400":"bg-white text-gray-500"),children:"OR"})})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-4 "+(a?"text-white":"text-gray-900"),children:"Register a new child"}),x.jsx("p",{className:"text-sm mb-4 "+(a?"text-gray-400":"text-gray-600"),children:"Your child is not currently enrolled with Young Eagles, but you'd like to register them."}),x.jsxs("button",{onClick:()=>i(2),className:"w-full flex items-center justify-center px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[x.jsx(N,{className:"mr-2"}),"Register New Child"]})]})]}),2===l&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"First Name *"}),x.jsx("input",{type:"text",name:"firstName",value:I.firstName,onChange:_,className:`w-full px-3 py-2 rounded-lg border ${B.firstName?"border-red-500 focus:ring-red-500":a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:border-transparent`}),B.firstName&&x.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.firstName})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Last Name *"}),x.jsx("input",{type:"text",name:"lastName",value:I.lastName,onChange:_,className:`w-full px-3 py-2 rounded-lg border ${B.lastName?"border-red-500 focus:ring-red-500":a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:border-transparent`}),B.lastName&&x.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.lastName})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Date of Birth *"}),x.jsx("input",{type:"date",name:"dateOfBirth",value:I.dateOfBirth,onChange:_,className:`w-full px-3 py-2 rounded-lg border ${B.dateOfBirth?"border-red-500 focus:ring-red-500":a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:border-transparent`}),B.dateOfBirth&&x.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.dateOfBirth})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Gender *"}),x.jsxs("select",{name:"gender",value:I.gender,onChange:_,className:`w-full px-3 py-2 rounded-lg border ${B.gender?"border-red-500 focus:ring-red-500":a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:border-transparent`,children:[x.jsx("option",{value:"",children:"Select Gender"}),x.jsx("option",{value:"male",children:"Male"}),x.jsx("option",{value:"female",children:"Female"}),x.jsx("option",{value:"other",children:"Other"})]}),B.gender&&x.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.gender})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium mb-3 "+(a?"text-gray-300":"text-gray-700"),children:"Registration Type *"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-start space-x-3 p-3 border rounded-lg cursor-pointer transition-colors "+(I.isYoungEaglesChild?a?"border-blue-500 bg-blue-900/20":"border-blue-500 bg-blue-50":a?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"),children:[x.jsx("input",{type:"radio",name:"registrationType",value:"youngEagles",checked:I.isYoungEaglesChild,onChange:()=>R(e=>o(n({},e),{isYoungEaglesChild:!0})),className:"w-4 h-4 text-blue-600 mt-0.5"}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium "+(a?"text-gray-200":"text-gray-900"),children:"Young Eagles Student"}),x.jsx("p",{className:"text-xs mt-1 "+(a?"text-gray-400":"text-gray-600"),children:"Child is currently enrolled at Young Eagles (transferring within school)"})]})]}),x.jsxs("label",{className:"flex items-start space-x-3 p-3 border rounded-lg cursor-pointer transition-colors "+(I.isYoungEaglesChild?a?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400":a?"border-green-500 bg-green-900/20":"border-green-500 bg-green-50"),children:[x.jsx("input",{type:"radio",name:"registrationType",value:"external",checked:!I.isYoungEaglesChild,onChange:()=>R(e=>o(n({},e),{isYoungEaglesChild:!1})),className:"w-4 h-4 text-green-600 mt-0.5"}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium "+(a?"text-gray-200":"text-gray-900"),children:"New Student (from another school)"}),x.jsx("p",{className:"text-xs mt-1 "+(a?"text-gray-400":"text-gray-600"),children:"Child is coming from another school or preschool"})]})]})]})]}),I.dateOfBirth&&x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Assigned Class (Auto-assigned)"}),x.jsxs("div",{className:"px-3 py-2 rounded-lg border "+(a?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"),children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"font-medium",children:I.class||"Calculating..."}),x.jsx("span",{className:"text-xs px-2 py-1 rounded "+(I.isYoungEaglesChild?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:I.isYoungEaglesChild?"Young Eagles":"General"})]}),x.jsx("p",{className:"text-xs mt-1 "+(a?"text-gray-400":"text-gray-600"),children:I.isYoungEaglesChild?"Young Eagles class assignment based on age":"General preschool class assignment based on age"})]})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsxs("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:[I.isYoungEaglesChild?"Current Young Eagles Class/Teacher":"Previous School/Preschool"," (Optional)"]}),x.jsx("input",{type:"text",name:"currentSchool",value:I.currentSchool||"",onChange:_,placeholder:I.isYoungEaglesChild?"Current class or teacher name":"Previous school or preschool name",className:`w-full px-3 py-2 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Emergency Contact Name"}),x.jsx("input",{type:"text",name:"emergencyContact",value:I.emergencyContact,onChange:_,placeholder:"Emergency contact person",className:`w-full px-3 py-2 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Emergency Contact Phone"}),x.jsx("input",{type:"tel",name:"emergencyPhone",value:I.emergencyPhone,onChange:_,placeholder:"Emergency contact phone",className:`w-full px-3 py-2 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Allergies"}),x.jsx("input",{type:"text",name:"allergies",value:I.allergies,onChange:_,placeholder:"Any known allergies",className:`w-full px-3 py-2 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Medical Conditions"}),x.jsx("textarea",{name:"medicalConditions",value:I.medicalConditions,onChange:_,placeholder:"Any medical conditions we should know about",rows:2,className:`w-full px-3 py-2 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium mb-2 "+(a?"text-gray-300":"text-gray-700"),children:"Additional Notes"}),x.jsx("textarea",{name:"notes",value:I.notes,onChange:_,placeholder:"Any additional information you'd like to share",rows:3,className:`w-full px-3 py-2 rounded-lg border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),x.jsxs("div",{className:"flex space-x-4 pt-4",children:[x.jsx("button",{onClick:()=>i(1),className:"flex-1 px-6 py-3 rounded-lg border transition-colors "+(a?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Back"}),x.jsx("button",{onClick:()=>d(void 0,null,function*(){var e;if((()=>{const e={};if(I.firstName.trim()||(e.firstName="First name is required"),I.lastName.trim()||(e.lastName="Last name is required"),I.dateOfBirth){const t=new Date(I.dateOfBirth),s=new Date,r=12*(s.getFullYear()-t.getFullYear())+(s.getMonth()-t.getMonth()),a=Math.floor(r/12);t>s?e.dateOfBirth="Date of birth cannot be in the future":a>6?e.dateOfBirth="Child must be 6 years or younger for preschool":a<1&&(e.dateOfBirth="Child must be at least 1 year old")}else e.dateOfBirth="Date of birth is required";return I.gender||(e.gender="Gender is required"),L(e),0===Object.keys(e).length})())try{h(!0);const s=o(n({},I),{parentId:r.id,registrationSource:"parent_app",requiresAdminApproval:!0,registrationType:I.isYoungEaglesChild?"young_eagles":"general"});let a;if(I.isYoungEaglesChild)a=yield S.children.register(s);else try{a=yield S.children.registerGeneral(s)}catch(t){if(404!==(null==(e=t.response)?void 0:e.status))throw t;a=yield S.children.register(s)}if(a.data.success){const e=I.isYoungEaglesChild?"Young Eagles":"General",t=I.class||"unassigned";C.success(`${e} child registration submitted for admin approval! ${I.firstName} has been assigned to ${t} class.`),i(3),yield S.notifications.send({recipientRole:"admin",title:`New ${e} Child Registration`,message:`${r.name} has registered a new ${e.toLowerCase()} child: ${I.firstName} ${I.lastName} (${t} class)`,type:"admin_action_required",priority:"high",metadata:{childId:a.data.child.id,parentId:r.id,registrationType:e.toLowerCase(),assignedClass:t,action:"approve_child_registration"}})}}catch(t){C.error("Failed to register child. Please try again.")}finally{h(!1)}}),disabled:g,className:"flex-1 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:g?x.jsxs(x.Fragment,{children:[x.jsx(w,{className:"animate-spin mr-2"}),"Submitting..."]}):"Submit Registration"})]})]}),3===l&&x.jsxs("div",{className:"text-center space-y-6",children:[x.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center "+(a?"bg-green-900":"bg-green-100"),children:x.jsx(k,{className:"text-3xl text-green-500"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold mb-2 "+(a?"text-white":"text-gray-900"),children:"Registration Submitted Successfully!"}),x.jsx("p",{className:""+(a?"text-gray-400":"text-gray-600"),children:D?`Your request to link with ${D.firstName} ${D.lastName} has been submitted.`:"Your child's registration has been submitted for review."})]}),x.jsx("div",{className:"p-4 rounded-lg "+(a?"bg-yellow-900/20 border border-yellow-700":"bg-yellow-50 border border-yellow-200"),children:x.jsxs("div",{className:"flex items-start",children:[x.jsx(u,{className:"text-yellow-500 mr-3 mt-0.5"}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:"text-sm font-medium "+(a?"text-yellow-300":"text-yellow-800"),children:"Admin Approval Required"}),x.jsx("p",{className:"text-xs mt-1 "+(a?"text-yellow-400":"text-yellow-700"),children:"An administrator will review your request and notify you once it's approved. This usually takes 1-2 business days."})]})]})}),x.jsx("button",{onClick:()=>{q(),s&&s()},className:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Done"})]})]})]})}):null},J=()=>{P();const[e,t]=c.useState(!1),[s,r]=c.useState({});return c.useEffect(()=>{const e=setInterval(()=>{const e=document.querySelectorAll(".adsbygoogle"),t={};e.forEach((e,s)=>{const r=e.dataset.adSlot;t[r]={loaded:"filled"===e.dataset.adStatus,status:e.dataset.adStatus,width:e.offsetWidth,height:e.offsetHeight,visible:null!==e.offsetParent}}),r(t)},2e3);return()=>clearInterval(e)},[]),null},H={minTimeBetweenAds:3e4,maxAdsPerSession:10,sessionDuration:36e5,adTypes:{banner:{maxPerPage:2,maxPerSession:5},native:{maxPerPage:2,maxPerSession:5},interstitial:{maxPerPage:1,maxPerSession:2},video:{maxPerPage:1,maxPerSession:3}}},W="young_eagles_ad_session",Q="young_eagles_ad_frequency",K="young_eagles_last_ad_shown",V=()=>{var e;const{user:t}=y(),{isDark:s}=m(),{showAds:r}=E(),a=L(),l=c.useRef(null),[i,h]=c.useState({children:0,classes:0,homework:0,pending:0,submitted:0,completionRate:0}),[b,p]=c.useState({totalAssignments:0,overdue:0,graded:0,avgScore:0,weeklyProgress:0,monthlyProgress:0,paymentStatus:"pending",aiUsage:0,lastLogin:new Date}),[j,v]=c.useState(!1),[,w]=c.useState([]),[C,P]=c.useState(!0),[V,X]=c.useState(!1);((e,t="banner")=>{const[s,r]=c.useState(null),[a,l]=c.useState(!1),[i,d]=c.useState(0),[m,x]=c.useState(0);c.useEffect(()=>{(()=>{const e=localStorage.getItem(W),t=Date.now();if(e){const s=JSON.parse(e);if(t-s.startTime<H.sessionDuration)return r(s),void x(s.adsShown||0)}const s={id:`session_${t}`,startTime:t,adsShown:0,pages:{}};localStorage.setItem(W,JSON.stringify(s)),r(s),x(0)})()},[]),c.useEffect(()=>{if(!s||!e)return;const t=s.pages[e]||0;d(t)},[s,e]),c.useEffect(()=>{(()=>{if(!s)return void l(!1);const e=H.adTypes[t]||H.adTypes.banner,r=localStorage.getItem(K),a=Date.now();r&&a-parseInt(r)<H.minTimeBetweenAds||i>=e.maxPerPage||m>=e.maxPerSession?l(!1):l(!(m>=H.maxAdsPerSession))})()},[s,t,i,m]);const g=c.useCallback((a=null)=>{if(!s||!e)return!1;const l=Date.now(),c=o(n({},s),{adsShown:m+1,pages:o(n({},s.pages),{[e]:i+1}),lastAdShown:l});localStorage.setItem(W,JSON.stringify(c)),localStorage.setItem(K,l.toString());const g=JSON.parse(localStorage.getItem(Q)||"{}");return g[t]=(g[t]||0)+1,localStorage.setItem(Q,JSON.stringify(g)),r(c),d(e=>e+1),x(e=>e+1),!0},[s,e,t,i,m]),h=c.useCallback((e=!0)=>!!a&&(!e||g()),[a,g]),u=c.useCallback(()=>{if(!s)return 0;const e=H.adTypes[t]||H.adTypes.banner,r=Math.max(0,e.maxPerPage-i),a=Math.max(0,e.maxPerSession-m),l=Math.max(0,H.maxAdsPerSession-m);return Math.min(r,a,l)},[s,t,i,m]),b=c.useCallback(()=>{d(0)},[]),p=c.useCallback(()=>{const r=JSON.parse(localStorage.getItem(Q)||"{}");return{session:{id:null==s?void 0:s.id,startTime:null==s?void 0:s.startTime,totalAdsShown:m,duration:s?Date.now()-s.startTime:0},page:{id:e,adsShown:i},frequency:r,limits:H.adTypes[t],remaining:u()}},[s,e,t,i,m,u]),f=c.useCallback(()=>u()>0,[u])})("dashboard");if(q(l,e=>{switch("vibrate"in navigator&&navigator.vibrate(50),e){case"left":case"right":a("/activities");break;case"up":v(!0);break;case"down":j?v(!1):a("/profile")}}),c.useEffect(()=>{t&&d(void 0,null,function*(){var e,s;try{if(P(!0),"parent"===((null==t?void 0:t.role)||(null==t?void 0:t.userType)))try{const e=(yield S.children.getByParent(t.id)).data.children||[];w(e),h({children:e.length,classes:0,homework:0,pending:0,submitted:0,completionRate:0}),p({totalAssignments:0,overdue:0,graded:0,avgScore:0,weeklyProgress:0,monthlyProgress:0,paymentStatus:"paid",aiUsage:8,lastLogin:new Date})}catch(r){h({children:0,classes:0,homework:0,pending:0,submitted:0,completionRate:0}),p({totalAssignments:0,overdue:0,graded:0,avgScore:0,weeklyProgress:0,monthlyProgress:0,paymentStatus:"pending",aiUsage:0,lastLogin:new Date})}else{const[t,r]=yield Promise.all([S.children.getAll(),S.classes.getAll()]);h({children:(null==(e=t.data.children)?void 0:e.length)||0,classes:(null==(s=r.data.classes)?void 0:s.length)||0,homework:0,pending:0,submitted:0,completionRate:0})}}catch(a){h({children:0,classes:0,homework:0,pending:0,submitted:0,completionRate:0})}finally{P(!1)}})},[t]),C)return x.jsx(G,{isLoading:!0,loadingText:"Loading your dashboard",showProgress:!1,delay:100});const Z=(null==t?void 0:t.role)||(null==t?void 0:t.userType);return"teacher"===Z?x.jsx(M,{}):"admin"===Z?x.jsx(F,{}):x.jsxs("div",{ref:l,className:`min-h-screen mt-0 ${s?"bg-gray-900":"bg-gray-50"} mobile-scroll-container`,style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"auto",scrollBehavior:"smooth",touchAction:"pan-y"},children:[x.jsx($,{}),x.jsx(U,{}),x.jsx("main",{className:"relative",children:x.jsxs("div",{className:"mobile-container",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-400 via-purple-500 to-purple-600 text-white rounded-2xl shadow-xl mobile-space-md overflow-hidden relative",children:[x.jsxs("div",{className:"absolute inset-0 opacity-15",children:[x.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 rounded-full bg-white/30"}),x.jsx("div",{className:"absolute bottom-4 right-4 w-12 h-12 rounded-full bg-white/20"}),x.jsx("div",{className:"absolute top-1/2 right-6 w-8 h-8 rounded-full bg-white/25"})]}),x.jsxs("div",{className:"relative z-10 mobile-p-md",children:[x.jsxs("div",{className:"text-center mobile-space-sm",children:[x.jsx("div",{className:"w-12 h-12 bg-white/30 rounded-full flex items-center justify-center mx-auto mobile-space-xs shadow-lg",children:x.jsx(g,{className:"text-lg text-white"})}),x.jsxs("h1",{className:"text-mobile-xl font-bold leading-tight text-white mobile-space-xs",children:["Welcome back, ",(null==(e=null==t?void 0:t.name)?void 0:e.split(" ")[0])||"Student","!"]}),x.jsx("p",{className:"text-white/90 text-mobile-sm opacity-90",children:"Track learning progress"})]}),x.jsxs("div",{className:"mobile-grid-2 mobile-space-sm",children:[x.jsxs("div",{className:"bg-white/25 rounded-lg mobile-p-sm text-center backdrop-blur-sm shadow-md border border-white/30",children:[x.jsxs("div",{className:"flex items-center justify-center mobile-space-xs",children:[x.jsx(Y,{className:"text-sm mr-1 text-white"}),x.jsx("div",{className:"text-mobile-lg font-bold text-white",children:i.children})]}),x.jsx("div",{className:"text-mobile-xs text-white/80 font-medium",children:"Children"})]}),x.jsxs("div",{className:"bg-white/25 rounded-lg mobile-p-sm text-center backdrop-blur-sm shadow-md border border-white/30",children:[x.jsxs("div",{className:"flex items-center justify-center mobile-space-xs",children:[x.jsx(f,{className:"text-sm mr-1 text-white"}),x.jsx("div",{className:"text-mobile-lg font-bold text-white",children:i.classes})]}),x.jsx("div",{className:"text-mobile-xs text-white/80 font-medium",children:"Classes"})]})]}),x.jsxs("div",{className:"mobile-space-sm",children:[x.jsx(_,{to:"/children",className:"mobile-card hover:bg-white/35 backdrop-blur-sm border border-white/30 mb-3 block transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.25)",color:"white"},children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(Y,{className:"text-lg mr-3 text-white"}),x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-mobile-sm text-white block",children:"Children"}),x.jsx("p",{className:"text-mobile-xs text-white/80",children:"Manage profiles"})]})]}),x.jsx(O,{className:"text-white/60"})]})}),x.jsx(_,{to:"/activities",className:"mobile-card hover:bg-white/35 backdrop-blur-sm border border-white/30 block transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.25)",color:"white"},children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(A,{className:"text-lg mr-3 text-white"}),x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-mobile-sm text-white block",children:"Activities"}),x.jsx("p",{className:"text-mobile-xs text-white/80",children:"Learning games"})]})]}),x.jsx(O,{className:"text-white/60"})]})})]}),x.jsx("div",{className:"mobile-space-sm",children:x.jsx("button",{onClick:()=>X(!0),className:"mobile-touch-target w-full hover:bg-white/30 backdrop-blur-sm rounded-xl border border-white/30 text-left transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.2)",color:"white"},children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(N,{className:"text-lg mr-3 text-white"}),x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-mobile-sm text-white block",children:"Register Child"}),x.jsx("p",{className:"text-mobile-xs text-white/80",children:"Add new child"})]})]}),x.jsx(O,{className:"text-white/60"})]})})}),x.jsx("div",{className:"mobile-space-sm rounded-lg mobile-p-sm backdrop-blur-sm border border-white/30",style:{background:"rgba(255, 255, 255, 0.25)",color:"white"},children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-mobile-sm font-semibold text-white",children:"Progress"}),x.jsxs("span",{className:"text-mobile-sm font-bold text-white",children:[i.progress,"%"]})]})})]})]}),r&&x.jsx("div",{className:"block sm:hidden mb-8",children:x.jsx("div",{className:"mobile-optimized",children:x.jsx(D,{})})}),r&&x.jsx("div",{className:"hidden sm:block mb-8",children:x.jsx("div",{className:"mobile-header-safe",children:x.jsx(T,{placement:"header"})})}),"parent"===Z&&x.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 mb-6",children:[x.jsxs("div",{className:"p-4 sm:p-6 rounded-lg shadow-md text-center border-l-4 border-blue-500 transition-all duration-200 hover:shadow-lg "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[x.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-500 mb-2",children:i.children}),x.jsx("div",{className:"text-sm font-medium uppercase tracking-wider "+(s?"text-gray-400":"text-gray-600"),children:"Children"})]}),x.jsxs("div",{className:"p-4 sm:p-6 rounded-lg shadow-md text-center border-l-4 border-purple-500 transition-all duration-200 hover:shadow-lg "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[x.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-purple-500 mb-2",children:i.homework}),x.jsx("div",{className:"text-sm font-medium uppercase tracking-wider "+(s?"text-gray-400":"text-gray-600"),children:"Homework"})]}),x.jsxs("div",{className:"p-4 sm:p-6 rounded-lg shadow-md text-center border-l-4 border-green-500 transition-all duration-200 hover:shadow-lg "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[x.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-green-500 mb-2",children:i.submitted}),x.jsx("div",{className:"text-sm font-medium uppercase tracking-wider "+(s?"text-gray-400":"text-gray-600"),children:"Submitted"})]}),x.jsxs("div",{className:`p-4 sm:p-6 rounded-lg shadow-md text-center border-l-4 transition-all duration-200 hover:shadow-lg ${i.completionRate>=80?"border-green-500":i.completionRate>=60?"border-yellow-500":"border-orange-500"} ${s?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[x.jsxs("div",{className:"text-3xl sm:text-4xl font-bold mb-2 "+(i.completionRate>=80?"text-green-500":i.completionRate>=60?"text-yellow-500":"text-orange-500"),children:[i.completionRate,"%"]}),x.jsx("div",{className:"text-sm font-medium uppercase tracking-wider "+(s?"text-gray-400":"text-gray-600"),children:"Complete"})]})]}),r&&"parent"===Z&&x.jsx("div",{className:"mb-8",children:x.jsx("div",{className:"mobile-optimized",children:x.jsx(T,{placement:"content"})})}),"parent"===Z&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("button",{onClick:()=>v(!j),className:"w-full p-6 rounded-xl shadow-lg flex items-center justify-between transition-all duration-200 hover:shadow-xl border-l-4 border-indigo-500 "+(s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-800 hover:bg-gray-50"),children:[x.jsxs("span",{className:"font-semibold flex items-center text-lg",children:[x.jsx(I,{className:"mr-3 text-indigo-500"}),j?"Hide":"View"," Detailed Stats"]}),x.jsx("div",{className:"p-3 rounded-lg "+(s?"bg-gray-700":"bg-gray-100"),children:j?x.jsx(R,{className:"text-indigo-500"}):x.jsx(B,{className:"text-indigo-500"})})]}),j&&x.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[x.jsx("div",{className:"p-4 sm:p-6 rounded-xl shadow-lg border-l-4 border-red-500 transition-all duration-300 hover:shadow-xl hover:scale-105 "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium mb-2 "+(s?"text-gray-400":"text-gray-600"),children:"Overdue"}),x.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-red-500",children:b.overdue})]}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center",children:x.jsx(u,{className:"text-red-500 text-lg sm:text-xl"})})]})}),x.jsx("div",{className:"p-4 sm:p-6 rounded-xl shadow-lg border-l-4 border-green-500 transition-all duration-300 hover:shadow-xl hover:scale-105 "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium mb-2 "+(s?"text-gray-400":"text-gray-600"),children:"Graded"}),x.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:b.graded})]}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center",children:x.jsx(k,{className:"text-green-500 text-lg sm:text-xl"})})]})}),x.jsx("div",{className:"p-4 sm:p-6 rounded-xl shadow-lg border-l-4 border-indigo-500 transition-all duration-300 hover:shadow-xl hover:scale-105 "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium mb-2 "+(s?"text-gray-400":"text-gray-600"),children:"AI Usage"}),x.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-indigo-500",children:b.aiUsage})]}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-2xl flex items-center justify-center",children:x.jsx(A,{className:"text-indigo-500 text-lg sm:text-xl"})})]})})]})]}),"parent"===Z&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[x.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-4"}),"Quick Actions"]}),x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[x.jsxs(_,{to:"/children",className:"p-6 sm:p-8 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 border-l-4 border-blue-500 group "+(s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-800 hover:bg-gray-50"),children:[x.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:x.jsx(Y,{className:"text-2xl sm:text-3xl text-blue-500"})}),x.jsx("span",{className:"font-semibold text-base sm:text-lg text-center",children:"My Children"})]}),x.jsxs(_,{to:"/activities",className:"p-6 sm:p-8 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 border-l-4 border-orange-500 group "+(s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-800 hover:bg-gray-50"),children:[x.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-orange-100 dark:bg-orange-900/30 rounded-2xl flex items-center justify-center mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:x.jsx(A,{className:"text-2xl sm:text-3xl text-orange-500"})}),x.jsx("span",{className:"font-semibold text-base sm:text-lg text-center",children:"Activities"})]}),x.jsxs(_,{to:"/notifications",className:"p-6 sm:p-8 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 border-l-4 border-green-500 group "+(s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-800 hover:bg-gray-50"),children:[x.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300",children:x.jsx(f,{className:"text-2xl sm:text-3xl text-green-500"})}),x.jsx("span",{className:"font-semibold text-base sm:text-lg text-center",children:"Updates"})]})]})]}),r&&x.jsx("div",{className:"mb-6",children:x.jsx("div",{className:"mobile-optimized",children:x.jsx(T,{placement:"infeed"})})})]})}),x.jsx(z,{isOpen:V,onClose:()=>X(!1),onSuccess:()=>{window.location.reload()}}),!1,x.jsx(J,{})]})};export{V as default};
