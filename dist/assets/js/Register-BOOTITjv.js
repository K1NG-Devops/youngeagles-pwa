var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;import{r as n}from"./vendor-react-BHu_3aIX.js";import{u as i,L as d}from"./vendor-router-BfAStt8k.js";import{l as c,j as x,m,o as u,b,t as g,v as p,w as h,x as y,y as f,z as v,p as w,q as j,r as N,A as k,n as P}from"./index-BetBoxhn.js";import"./vendor-utils-C_UPlz3V.js";const C=()=>{const[e,C]=n.useState({name:"",email:"",phone:"",address:"",workAddress:"",password:"",confirmPassword:""}),[S,A]=n.useState(""),[O,E]=n.useState(""),[R,T]=n.useState(!1),[q,z]=n.useState(!1),[D,I]=n.useState(!1),{isDark:B,toggleTheme:F}=c(),H=i();n.useEffect(()=>{localStorage.getItem("accessToken")&&H("/dashboard")},[H]);const L=n=>{var i,d;C((i=((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&o(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&o(e,r,t[r]);return e})({},e),d={[n.target.name]:n.target.value},t(i,r(d))))};return x.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-all duration-500 "+(B?"bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"),children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 rounded-full opacity-20 blur-3xl animate-pulse "+(B?"bg-blue-500":"bg-blue-300")}),x.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 rounded-full opacity-20 blur-3xl animate-pulse delay-1000 "+(B?"bg-purple-500":"bg-purple-300")})]}),x.jsx("button",{onClick:F,className:"fixed top-6 right-6 p-4 rounded-full transition-all duration-300 z-50 transform hover:scale-110 hover:rotate-12 "+(B?"bg-gray-800/80 text-yellow-400 hover:bg-gray-700/80 border-2 border-gray-600 shadow-2xl backdrop-blur-sm":"bg-white/80 text-blue-600 hover:bg-blue-50/80 border-2 border-blue-200 shadow-2xl backdrop-blur-sm"),title:`Switch to ${B?"light":"dark"} mode`,children:B?x.jsx(m,{className:"text-xl"}):x.jsx(u,{className:"text-xl"})}),x.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"mx-auto h-24 w-24 rounded-2xl flex items-center justify-center mb-8 transform hover:scale-105 transition-all duration-300 bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-2xl",children:x.jsx(b,{className:"text-4xl"})}),x.jsx("h2",{className:"text-4xl font-bold mb-2 "+(B?"text-white":"text-gray-900"),children:"Parent Registration"}),x.jsx("p",{className:"text-lg font-medium "+(B?"text-gray-300":"text-gray-600"),children:"Join the Young Eagles community"})]}),x.jsx("div",{className:"rounded-3xl shadow-2xl p-8 sm:p-10 space-y-8 backdrop-blur-xl border-2 transition-all duration-500 "+(B?"bg-gray-800/30 border-gray-700/50":"bg-white/70 border-white/50"),children:x.jsxs("form",{onSubmit:t=>{return r=void 0,a=null,s=function*(){var r,a,s,l;if(t.preventDefault(),E(""),A(""),e.password!==e.confirmPassword)return E("Passwords do not match");if(e.password.length<6)return E("Password must be at least 6 characters long");T(!0);try{yield k.post("/api/auth/register",e),localStorage.removeItem("accessToken"),P.success("Registration successful!"),A("Registration successful! Please sign in."),C({name:"",email:"",phone:"",address:"",workAddress:"",password:"",confirmPassword:""}),E(""),setTimeout(()=>{H("/login")},2e3)}catch(o){if(null==(a=null==(r=o.response)?void 0:r.data)?void 0:a.errors){const e=o.response.data.errors.map(e=>e.msg).join(", ");E(e)}else E((null==(l=null==(s=o.response)?void 0:s.data)?void 0:l.message)||"Registration failed");A(""),P.error("Registration failed. Please try again.")}finally{T(!1)}},new Promise((e,l)=>{var o=e=>{try{i(s.next(e))}catch(t){l(t)}},n=e=>{try{i(s.throw(e))}catch(t){l(t)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,n);i((s=s.apply(r,a)).next())});var r,a,s},className:"space-y-6",children:[[{name:"name",label:"Full Name",icon:g},{name:"email",label:"Email Address",type:"email",icon:p},{name:"phone",label:"Phone Number",icon:h},{name:"address",label:"Home Address",icon:y},{name:"workAddress",label:"Work Address (Optional)",icon:f}].map(({name:t,label:r,type:a="text",icon:s})=>x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold mb-3 "+(B?"text-gray-200":"text-gray-700"),children:r}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:x.jsx(s,{className:"text-lg "+(B?"text-gray-400":"text-gray-500")})}),x.jsx("input",{id:t,type:a,name:t,value:e[t],onChange:L,required:"workAddress"!==t,autoComplete:t,className:"block w-full pl-14 pr-4 py-4 border-2 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-lg "+(B?"bg-gray-700/50 border-gray-600 text-white placeholder-gray-400 backdrop-blur-sm":"bg-white/50 border-gray-300 text-gray-900 placeholder-gray-500 backdrop-blur-sm"),placeholder:"workAddress"===t?"Enter work address if applicable":`Enter your ${r.toLowerCase()}`})]})]},t)),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold mb-3 "+(B?"text-gray-200":"text-gray-700"),children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:x.jsx(v,{className:"text-lg "+(B?"text-gray-400":"text-gray-500")})}),x.jsx("input",{id:"password",name:"password",type:q?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:L,className:"block w-full pl-14 pr-14 py-4 border-2 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-lg "+(B?"bg-gray-700/50 border-gray-600 text-white placeholder-gray-400 backdrop-blur-sm":"bg-white/50 border-gray-300 text-gray-900 placeholder-gray-500 backdrop-blur-sm"),placeholder:"Create a password (min. 6 characters)"}),x.jsx("button",{type:"button",onClick:()=>z(!q),className:"absolute inset-y-0 right-0 pr-5 flex items-center transition-colors duration-200 "+(B?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"),children:q?x.jsx(w,{className:"text-lg"}):x.jsx(j,{className:"text-lg"})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold mb-3 "+(B?"text-gray-200":"text-gray-700"),children:"Confirm Password"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:x.jsx(v,{className:"text-lg "+(B?"text-gray-400":"text-gray-500")})}),x.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:D?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:L,className:"block w-full pl-14 pr-14 py-4 border-2 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-lg "+(B?"bg-gray-700/50 border-gray-600 text-white placeholder-gray-400 backdrop-blur-sm":"bg-white/50 border-gray-300 text-gray-900 placeholder-gray-500 backdrop-blur-sm"),placeholder:"Confirm your password"}),x.jsx("button",{type:"button",onClick:()=>I(!D),className:"absolute inset-y-0 right-0 pr-5 flex items-center transition-colors duration-200 "+(B?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"),children:D?x.jsx(w,{className:"text-lg"}):x.jsx(j,{className:"text-lg"})})]})]}),x.jsxs("p",{className:"text-sm text-center "+(B?"text-gray-400":"text-gray-600"),children:["By registering, you agree to our"," ",x.jsx("a",{href:"/terms",className:"font-semibold underline "+(B?"text-blue-400":"text-blue-600"),children:"Terms of Service"})," ","and"," ",x.jsx("a",{href:"/privacy",className:"font-semibold underline "+(B?"text-blue-400":"text-blue-600"),children:"Privacy Policy"}),"."]}),x.jsx("button",{type:"submit",disabled:R,className:"w-full flex justify-center items-center py-4 px-6 border-2 border-transparent text-lg font-bold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl "+(R?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-xl hover:-translate-y-1"),children:R?x.jsxs(x.Fragment,{children:[x.jsx(N,{className:"animate-spin text-xl mr-3"}),"Creating account..."]}):"Create Parent Account"}),S&&x.jsx("p",{className:"text-green-600 text-center font-medium",children:S}),O&&x.jsx("p",{className:"text-red-600 text-center font-medium",children:O}),x.jsx("div",{className:"text-center mt-6",children:x.jsxs("p",{className:"text-sm "+(B?"text-gray-400":"text-gray-600"),children:["Already have an account?"," ",x.jsx(d,{to:"/login",className:"font-semibold underline transition-colors duration-200 "+(B?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"),children:"Sign in here"})]})}),x.jsx("div",{className:"text-center",children:x.jsx(d,{to:"/",className:"font-semibold underline transition-colors duration-200 "+(B?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"),children:"‚Üê Back to Home"})})]})})]})]})};export{C as default};
