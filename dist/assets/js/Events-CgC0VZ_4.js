var e=(e,t,s)=>new Promise((r,a)=>{var l=e=>{try{d(s.next(e))}catch(t){a(t)}},n=e=>{try{d(s.throw(e))}catch(t){a(t)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,n);d((s=s.apply(e,t)).next())});import{r as t,a as s}from"./vendor-react-BHu_3aIX.js";import{l as r,j as a,H as l,aa as n,a7 as d,aC as x,I as i,g as c,A as o}from"./index-BetBoxhn.js";import{P as m}from"./PageWrapper-BEwMImJq.js";import"./vendor-router-BfAStt8k.js";import"./vendor-utils-C_UPlz3V.js";const g=()=>{const{isDark:g}=r(),[b,h]=t.useState([]),[y,u]=t.useState(!0),p=()=>e(void 0,null,function*(){try{const e=yield o.events.getAll();h(e.data.events||[])}catch(e){h([])}finally{u(!1)}});t.useEffect(()=>{p()},[]);const j=e=>{switch(e){case"high":return g?"text-red-400 bg-red-900/20 border-red-800":"text-red-600 bg-red-50 border-red-200";case"medium":return g?"text-yellow-400 bg-yellow-900/20 border-yellow-800":"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return g?"text-green-400 bg-green-900/20 border-green-800":"text-green-600 bg-green-50 border-green-200";default:return g?"text-blue-400 bg-blue-900/20 border-blue-800":"text-blue-600 bg-blue-50 border-blue-200"}};return y?a.jsx("div",{className:"flex items-center justify-center min-h-screen "+(g?"bg-gray-900":"bg-gray-50"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:""+(g?"text-gray-300":"text-gray-600"),children:"Loading events..."})]})}):a.jsx(m,{onRefresh:()=>e(void 0,null,function*(){u(!0),yield p()}),children:a.jsx("div",{className:"min-h-screen mt-4 "+(g?"bg-gray-900":"bg-gray-50"),children:a.jsxs("div",{className:"p-4 space-y-4 -mt-1",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-2xl",children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"ðŸ“… Events & Calendar"}),a.jsx("p",{className:"text-purple-100 text-sm",children:"Stay updated with school events and important dates"})]}),a.jsx(l,{}),0===b.length?a.jsxs("div",{className:"p-6 text-center rounded-xl shadow-sm border "+(g?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[a.jsx(n,{className:"text-4xl mx-auto mb-4 "+(g?"text-gray-400":"text-gray-300")}),a.jsx("h3",{className:"text-lg font-semibold mb-2 "+(g?"text-white":"text-gray-900"),children:"No Upcoming Events"}),a.jsx("p",{className:""+(g?"text-gray-400":"text-gray-600"),children:"Check back later for new events and announcements."})]}):b.map((e,t)=>{const r=(e=>{switch(e){case"meeting":case"event":default:return n;case"exhibition":return c;case"holiday":return d}})(e.type);return a.jsxs(s.Fragment,{children:[a.jsxs("div",{className:"p-4 rounded-xl shadow-sm border transition-all hover:shadow-md "+(g?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${j(e.priority)}`,children:a.jsx(r,{className:"text-lg"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold "+(g?"text-white":"text-gray-900"),children:e.title}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${j(e.priority)}`,children:e.priority.toUpperCase()})]})]})}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(n,{className:"text-sm "+(g?"text-gray-400":"text-gray-500")}),a.jsx("span",{className:"text-sm "+(g?"text-gray-300":"text-gray-600"),children:(l=e.date,new Date(l).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(d,{className:"text-sm "+(g?"text-gray-400":"text-gray-500")}),a.jsx("span",{className:"text-sm "+(g?"text-gray-300":"text-gray-600"),children:e.time})]}),"N/A"!==e.location&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(x,{className:"text-sm "+(g?"text-gray-400":"text-gray-500")}),a.jsx("span",{className:"text-sm "+(g?"text-gray-300":"text-gray-600"),children:e.location})]})]}),a.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"} leading-relaxed`,children:e.description})]}),(t+1)%4==0&&t<b.length-1&&a.jsx(i,{})]},e.id);var l}),a.jsx(i,{}),a.jsxs("div",{className:"p-4 rounded-xl shadow-sm border "+(g?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(c,{className:"text-lg "+(g?"text-blue-400":"text-blue-600")}),a.jsx("h3",{className:"text-lg font-semibold "+(g?"text-white":"text-gray-900"),children:"Admin Updates"})]}),a.jsx("div",{className:"p-3 rounded-lg border "+(g?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"),children:a.jsxs("p",{className:"text-sm "+(g?"text-blue-300":"text-blue-700"),children:["ðŸ“¢ ",a.jsx("strong",{children:"Reminder:"})," School fees for the new term are due by January 31st. Please submit your payment proofs through the app."]})})]})]})})})};export{g as default};
